import{s as e,d as t,u as n,l as a,p as i,q as s,c as r,t as o,v as l,r as c,i as u,x as h,a as d,k as p,o as f,b as g,F as m,y as v,g as b,n as y,z as S,f as w,A as C,B as k,C as I,j as A,D as P,E as D,G as T,H as x,e as R,h as E,T as L,I as O,J as M,K as B,L as F}from"./vue-DeBeNUN_.js";import{R as U,C as N,T as _,P as G,a as j,b as V,M as z}from"./ogl-CUkwcswh.js";import{i as H}from"./liquid-glass-DwbB4tuY.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();
/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */
const q="undefined"!=typeof document;function W(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}const J=Object.assign;function Z(e,t){const n={};for(const a in t){const i=t[a];n[a]=$(i)?i.map(e):e(i)}return n}const K=()=>{},$=Array.isArray;function X(e,t){const n={};for(const a in e)n[a]=a in t?t[a]:e[a];return n}const Y=/#/g,Q=/&/g,ee=/\//g,te=/=/g,ne=/\?/g,ae=/\+/g,ie=/%5B/g,se=/%5D/g,re=/%5E/g,oe=/%60/g,le=/%7B/g,ce=/%7C/g,ue=/%7D/g,he=/%20/g;function de(e){return null==e?"":encodeURI(""+e).replace(ce,"|").replace(ie,"[").replace(se,"]")}function pe(e){return de(e).replace(ae,"%2B").replace(he,"+").replace(Y,"%23").replace(Q,"%26").replace(oe,"`").replace(le,"{").replace(ue,"}").replace(re,"^")}function fe(e){return pe(e).replace(te,"%3D")}function ge(e){return function(e){return de(e).replace(Y,"%23").replace(ne,"%3F")}(e).replace(ee,"%2F")}function me(e){if(null==e)return null;try{return decodeURIComponent(""+e)}catch(t){}return""+e}const ve=/\/$/;function be(e,t,n="/"){let a,i={},s="",r="";const o=t.indexOf("#");let l=t.indexOf("?");return l=o>=0&&l>o?-1:l,l>=0&&(a=t.slice(0,l),s=t.slice(l,o>0?o:t.length),i=e(s.slice(1))),o>=0&&(a=a||t.slice(0,o),r=t.slice(o,t.length)),a=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),a=e.split("/"),i=a[a.length-1];".."!==i&&"."!==i||a.push("");let s,r,o=n.length-1;for(s=0;s<a.length;s++)if(r=a[s],"."!==r){if(".."!==r)break;o>1&&o--}return n.slice(0,o).join("/")+"/"+a.slice(s).join("/")}(null!=a?a:t,n),{fullPath:a+s+r,path:a,query:i,hash:me(r)}}function ye(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function Se(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function we(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Ce(e[n],t[n]))return!1;return!0}function Ce(e,t){return $(e)?ke(e,t):$(t)?ke(t,e):e===t}function ke(e,t){return $(t)?e.length===t.length&&e.every((e,n)=>e===t[n]):1===e.length&&e[0]===t}const Ie={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ae=function(e){return e.pop="pop",e.push="push",e}({}),Pe=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function De(e){if(!e)if(q){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(ve,"")}const Te=/^[^#]+#/;function xe(e,t){return e.replace(Te,"#")+t}const Re=()=>({left:window.scrollX,top:window.scrollY});function Ee(e){let t;if("el"in e){const n=e.el,a="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?a?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),a=e.getBoundingClientRect();return{behavior:t.behavior,left:a.left-n.left-(t.left||0),top:a.top-n.top-(t.top||0)}}(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function Le(e,t){return(history.state?history.state.position-t:-1)+e}const Oe=new Map;function Me(e){return"string"==typeof e||"symbol"==typeof e}let Be=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const Fe=Symbol("");function Ue(e,t){return J(new Error,{type:e,[Fe]:!0},t)}function Ne(e,t){return e instanceof Error&&Fe in e&&(null==t||!!(e.type&t))}Be.MATCHER_NOT_FOUND,Be.NAVIGATION_GUARD_REDIRECT,Be.NAVIGATION_ABORTED,Be.NAVIGATION_CANCELLED,Be.NAVIGATION_DUPLICATED;function _e(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let a=0;a<n.length;++a){const e=n[a].replace(ae," "),i=e.indexOf("="),s=me(i<0?e:e.slice(0,i)),r=i<0?null:me(e.slice(i+1));if(s in t){let e=t[s];$(e)||(e=t[s]=[e]),e.push(r)}else t[s]=r}return t}function Ge(e){let t="";for(let n in e){const a=e[n];n=fe(n),null!=a?($(a)?a.map(e=>e&&pe(e)):[a&&pe(a)]).forEach(e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}):void 0!==a&&(t+=(t.length?"&":"")+n)}return t}function je(e){const t={};for(const n in e){const a=e[n];void 0!==a&&(t[n]=$(a)?a.map(e=>null==e?null:""+e):null==a?a:""+a)}return t}const Ve=Symbol(""),ze=Symbol(""),He=Symbol(""),qe=Symbol(""),We=Symbol("");function Je(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e.slice(),reset:function(){e=[]}}}function Ze(e,t,n,a,i,s=e=>e()){const r=a&&(a.enterCallbacks[i]=a.enterCallbacks[i]||[]);return()=>new Promise((o,l)=>{const c=e=>{var s;!1===e?l(Ue(Be.NAVIGATION_ABORTED,{from:n,to:t})):e instanceof Error?l(e):"string"==typeof(s=e)||s&&"object"==typeof s?l(Ue(Be.NAVIGATION_GUARD_REDIRECT,{from:t,to:e})):(r&&a.enterCallbacks[i]===r&&"function"==typeof e&&r.push(e),o())},u=s(()=>e.call(a&&a.instances[i],t,n,c));let h=Promise.resolve(u);e.length<3&&(h=h.then(c)),h.catch(e=>l(e))})}function Ke(e,t,n,a,i=e=>e()){const s=[];for(const r of e)for(const e in r.components){let o=r.components[e];if("beforeRouteEnter"===t||r.instances[e])if(W(o)){const l=(o.__vccOpts||o)[t];l&&s.push(Ze(l,n,a,r,e,i))}else{let l=o();s.push(()=>l.then(s=>{if(!s)throw new Error(`Couldn't resolve component "${e}" at "${r.path}"`);const o=(l=s).__esModule||"Module"===l[Symbol.toStringTag]||l.default&&W(l.default)?s.default:s;var l;r.mods[e]=s,r.components[e]=o;const c=(o.__vccOpts||o)[t];return c&&Ze(c,n,a,r,e,i)()}))}}return s}function $e(e,t){const{pathname:n,search:a,hash:i}=t,s=e.indexOf("#");if(s>-1){let t=i.includes(e.slice(s))?e.slice(s).length:1,n=i.slice(t);return"/"!==n[0]&&(n="/"+n),ye(n,"")}return ye(n,e)+a+i}function Xe(e,t,n,a=!1,i=!1){return{back:e,current:t,forward:n,replaced:a,position:window.history.length,scroll:i?Re():null}}function Ye(e){const{history:t,location:n}=window,a={value:$e(e,n)},i={value:t.state};function s(a,s,r){const o=e.indexOf("#"),l=o>-1?(n.host&&document.querySelector("base")?e:e.slice(o))+a:location.protocol+"//"+location.host+e+a;try{t[r?"replaceState":"pushState"](s,"",l),i.value=s}catch(c){n[r?"replace":"assign"](l)}}return i.value||s(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:a,state:i,push:function(e,n){const r=J({},i.value,t.state,{forward:e,scroll:Re()});s(r.current,r,!0),s(e,J({},Xe(a.value,e,null),{position:r.position+1},n),!1),a.value=e},replace:function(e,n){s(e,J({},t.state,Xe(i.value.back,e,i.value.forward,!0),n,{position:i.value.position}),!0),a.value=e}}}let Qe=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var et=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(et||{});const tt={type:Qe.Static,value:""},nt=/[a-zA-Z0-9_]/;const at="[^/]+?",it={sensitive:!1,strict:!1,start:!0,end:!0};var st=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(st||{});const rt=/[.+*?^${}()[\]/\\]/g;function ot(e,t){let n=0;for(;n<e.length&&n<t.length;){const a=t[n]-e[n];if(a)return a;n++}return e.length<t.length?1===e.length&&e[0]===st.Static+st.Segment?-1:1:e.length>t.length?1===t.length&&t[0]===st.Static+st.Segment?1:-1:0}function lt(e,t){let n=0;const a=e.score,i=t.score;for(;n<a.length&&n<i.length;){const e=ot(a[n],i[n]);if(e)return e;n++}if(1===Math.abs(i.length-a.length)){if(ct(a))return 1;if(ct(i))return-1}return i.length-a.length}function ct(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ut={strict:!1,end:!0,sensitive:!1};function ht(e,t,n){const a=function(e,t){const n=J({},it,t),a=[];let i=n.start?"^":"";const s=[];for(const o of e){const e=o.length?[]:[st.Root];n.strict&&!o.length&&(i+="/");for(let t=0;t<o.length;t++){const a=o[t];let r=st.Segment+(n.sensitive?st.BonusCaseSensitive:0);if(a.type===Qe.Static)t||(i+="/"),i+=a.value.replace(rt,"\\$&"),r+=st.Static;else if(a.type===Qe.Param){const{value:e,repeatable:n,optional:l,regexp:c}=a;s.push({name:e,repeatable:n,optional:l});const u=c||at;u!==at&&(r+=st.BonusCustomRegExp);let h=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;t||(h=l&&o.length<2?`(?:/${h})`:"/"+h),l&&(h+="?"),i+=h,r+=st.Dynamic,l&&(r+=st.BonusOptional),n&&(r+=st.BonusRepeatable),".*"===u&&(r+=st.BonusWildcard)}e.push(r)}a.push(e)}if(n.strict&&n.end){const e=a.length-1;a[e][a[e].length-1]+=st.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const r=new RegExp(i,n.sensitive?"":"i");return{re:r,score:a,keys:s,parse:function(e){const t=e.match(r),n={};if(!t)return null;for(let a=1;a<t.length;a++){const e=t[a]||"",i=s[a-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n},stringify:function(t){let n="",a=!1;for(const i of e){a&&n.endsWith("/")||(n+="/"),a=!1;for(const e of i)if(e.type===Qe.Static)n+=e.value;else if(e.type===Qe.Param){const{value:s,repeatable:r,optional:o}=e,l=s in t?t[s]:"";if($(l)&&!r)throw new Error(`Provided param "${s}" is an array but it is not repeatable (* or + modifiers)`);const c=$(l)?l.join("/"):l;if(!c){if(!o)throw new Error(`Missing required param "${s}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):a=!0)}n+=c}}return n||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[tt]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=et.Static,a=n;const i=[];let s;function r(){s&&i.push(s),s=[]}let o,l=0,c="",u="";function h(){c&&(n===et.Static?s.push({type:Qe.Static,value:c}):n===et.Param||n===et.ParamRegExp||n===et.ParamRegExpEnd?(s.length>1&&("*"===o||"+"===o)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:Qe.Param,value:c,regexp:u,repeatable:"*"===o||"+"===o,optional:"*"===o||"?"===o})):t("Invalid state to consume buffer"),c="")}function d(){c+=o}for(;l<e.length;)if(o=e[l++],"\\"!==o||n===et.ParamRegExp)switch(n){case et.Static:"/"===o?(c&&h(),r()):":"===o?(h(),n=et.Param):d();break;case et.EscapeNext:d(),n=a;break;case et.Param:"("===o?n=et.ParamRegExp:nt.test(o)?d():(h(),n=et.Static,"*"!==o&&"?"!==o&&"+"!==o&&l--);break;case et.ParamRegExp:")"===o?"\\"==u[u.length-1]?u=u.slice(0,-1)+o:n=et.ParamRegExpEnd:u+=o;break;case et.ParamRegExpEnd:h(),n=et.Static,"*"!==o&&"?"!==o&&"+"!==o&&l--,u="";break;default:t("Unknown state")}else a=n,n=et.EscapeNext;return n===et.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),h(),r(),i}(e.path),n),i=J(a,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function dt(e,t){const n=[],a=new Map;function i(e,n,a){const o=!a,l=ft(e);l.aliasOf=a&&a.record;const c=X(t,e),u=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(ft(J({},l,{components:a?a.record.components:l.components,path:e,aliasOf:a?a.record:l})))}let h,d;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,a="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&a+u)}if(h=ht(t,n,c),a?a.alias.push(h):(d=d||h,d!==h&&d.alias.push(h),o&&e.name&&!mt(h)&&s(e.name)),bt(h)&&r(h),l.children){const e=l.children;for(let t=0;t<e.length;t++)i(e[t],h,a&&a.children[t])}a=a||h}return d?()=>{s(d)}:K}function s(e){if(Me(e)){const t=a.get(e);t&&(a.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(s),t.alias.forEach(s))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&a.delete(e.record.name),e.children.forEach(s),e.alias.forEach(s))}}function r(e){const t=function(e,t){let n=0,a=t.length;for(;n!==a;){const i=n+a>>1;lt(e,t[i])<0?a=i:n=i+1}const i=function(e){let t=e;for(;t=t.parent;)if(bt(t)&&0===lt(e,t))return t}(e);i&&(a=t.lastIndexOf(i,a-1));return a}(e,n);n.splice(t,0,e),e.record.name&&!mt(e)&&a.set(e.record.name,e)}return t=X(ut,t),e.forEach(e=>i(e)),{addRoute:i,resolve:function(e,t){let i,s,r,o={};if("name"in e&&e.name){if(i=a.get(e.name),!i)throw Ue(Be.MATCHER_NOT_FOUND,{location:e});r=i.record.name,o=J(pt(t.params,i.keys.filter(e=>!e.optional).concat(i.parent?i.parent.keys.filter(e=>e.optional):[]).map(e=>e.name)),e.params&&pt(e.params,i.keys.map(e=>e.name))),s=i.stringify(o)}else if(null!=e.path)s=e.path,i=n.find(e=>e.re.test(s)),i&&(o=i.parse(s),r=i.record.name);else{if(i=t.name?a.get(t.name):n.find(e=>e.re.test(t.path)),!i)throw Ue(Be.MATCHER_NOT_FOUND,{location:e,currentLocation:t});r=i.record.name,o=J({},t.params,e.params),s=i.stringify(o)}const l=[];let c=i;for(;c;)l.unshift(c.record),c=c.parent;return{name:r,path:s,params:o,matched:l,meta:vt(l)}},removeRoute:s,clearRoutes:function(){n.length=0,a.clear()},getRoutes:function(){return n},getRecordMatcher:function(e){return a.get(e)}}}function pt(e,t){const n={};for(const a of t)a in e&&(n[a]=e[a]);return n}function ft(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:gt(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function gt(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const a in e.components)t[a]="object"==typeof n?n[a]:n;return t}function mt(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function vt(e){return e.reduce((e,t)=>J(e,t.meta),{})}function bt({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function yt(e){const t=s(He),a=s(qe),i=r(()=>{const a=n(e.to);return t.resolve(a)}),o=r(()=>{const{matched:e}=i.value,{length:t}=e,n=e[t-1],s=a.matched;if(!n||!s.length)return-1;const r=s.findIndex(Se.bind(null,n));if(r>-1)return r;const o=wt(e[t-2]);return t>1&&wt(n)===o&&s[s.length-1].path!==o?s.findIndex(Se.bind(null,e[t-2])):r}),l=r(()=>o.value>-1&&function(e,t){for(const n in t){const a=t[n],i=e[n];if("string"==typeof a){if(a!==i)return!1}else if(!$(i)||i.length!==a.length||a.some((e,t)=>e!==i[t]))return!1}return!0}(a.params,i.value.params)),c=r(()=>o.value>-1&&o.value===a.matched.length-1&&we(a.params,i.value.params));return{route:i,href:r(()=>i.value.href),isActive:l,isExactActive:c,navigate:function(a={}){if(function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(a)){const a=t[n(e.replace)?"replace":"push"](n(e.to)).catch(K);return e.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition(()=>a),a}return Promise.resolve()}}}const St=t({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:yt,setup(e,{slots:t}){const n=i(yt(e)),{options:a}=s(He),l=r(()=>({[Ct(e.activeClass,a.linkActiveClass,"router-link-active")]:n.isActive,[Ct(e.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&(1===(i=t.default(n)).length?i[0]:i);var i;return e.custom?a:o("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:l.value},a)}}});function wt(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ct=(e,t,n)=>null!=e?e:null!=t?t:n;function kt(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const It=t({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:a}){const i=s(We),h=r(()=>e.route||i.value),d=s(ze,0),p=r(()=>{let e=n(d);const{matched:t}=h.value;let a;for(;(a=t[e])&&!a.components;)e++;return e}),f=r(()=>h.value.matched[p.value]);l(ze,r(()=>p.value+1)),l(Ve,f),l(We,h);const g=c();return u(()=>[g.value,f.value,e.name],([e,t,n],[a,i,s])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===a&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&Se(t,i)&&a||(t.enterCallbacks[n]||[]).forEach(t=>t(e))},{flush:"post"}),()=>{const n=h.value,i=e.name,s=f.value,r=s&&s.components[i];if(!r)return kt(a.default,{Component:r,route:n});const l=s.props[i],c=l?!0===l?n.params:"function"==typeof l?l(n):l:null,u=o(r,J({},c,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(s.instances[i]=null)},ref:g}));return kt(a.default,{Component:u,route:n})||u}}});const At=(e,t)=>{const n=e.__vccOpts||e;for(const[a,i]of t)n[a]=i;return n},Pt={id:"hero",class:"content-section"};const Dt=At({},[["render",function(e,t){return f(),d("section",Pt,t[0]||(t[0]=[p('<div class="profile-container"><img src="https://raw.githubusercontent.com/CharmingZh/CharmingZh.github.io/main/src/avatar.jpg" alt="Your Photo" class="profile-pic"><canvas id="particle-canvas"></canvas></div><div class="hero-text"><h1>Jiaming Zhang 张家铭</h1><h2>Ph.D. Student / Research Assistant @ Michigan State University</h2><div class="keywords"><span>Optical Sensing</span><span>Smart Agriculture</span><span>Computer Vision</span><span>3D Sensing</span></div></div>',2)]))}]]),Tt={id:"about",class:"content-section"};const xt=At({},[["render",function(e,t){return f(),d("section",Tt,t[0]||(t[0]=[p('<h2 class="section-title">About me.</h2><div class="glass-card"><p>I am currently pursuing my Ph.D. in Biosystems Engineering at <strong>Michigan State University</strong>, beginning in Fall 2024 under the supervision of <a href="https://www.yuzhenlu.com/">Dr. Yuzhen Lu</a>. My research focuses on developing advanced optical sensing systems and computer vision algorithms to tackle key challenges in smart agriculture, particularly in 3D perception, automated grading, and precision phenotyping.</p><p>Before joining MSU, I earned my M.S. degree from <strong>Beijing Forestry University (BFU)</strong>, where I conducted research on environment perception in complex forest scenes and the automation of forestry equipment. I received my B.S. in <strong>Information and Computing Science</strong> from <strong>China University of Mining and Technology (Beijing)</strong>.</p><p>Prior to my university studies, I was a professional athlete in <a href="https://en.wikipedia.org/wiki/Amateur_radio_direction_finding">Radio direction finding</a> and <a href="https://en.wikipedia.org/wiki/Orienteering">Orienteering</a>. I also played football in formal training programs, and have always supported <strong><a href="https://en.wikipedia.org/wiki/Changchun_Yatai_F.C.">Changchun Yatai</a></strong> and <strong><a href="https://en.wikipedia.org/wiki/Real_Madrid_CF">Real Madrid</a></strong>.</p><p>In my free time, I enjoy cooking, <a href="/photography">photography</a>, and exploring new technologies. I am passionate about leveraging technology to solve real-world problems and am always eager to learn and grow in my field.</p></div>',2)]))}]]),Rt={id:"education",class:"content-section"},Et={class:"education-timeline"},Lt={class:"edu-degree-badge"},Ot={class:"edu-content"},Mt={class:"edu-institution"},Bt={class:"edu-meta"},Ft={class:"edu-location"},Ut={class:"edu-duration"},Nt={key:0,class:"edu-details"},_t={class:"detail-label"},Gt=["innerHTML"],jt={key:1,class:"edu-achievement"},Vt={__name:"EducationSection",setup(e){const t=[{degree:"Ph.D.",year:"2024",duration:"2024 – Present",institution:"Michigan State University",location:"East Lansing, MI",logo:new URL("/assets/msu-logo-BqQT0VCo.svg",import.meta.url).href,details:[{label:"Advisor",value:'<a href="https://www.yuzhenlu.com/">Dr. Yuzhen Lu</a>'},{label:"Committee Members",value:'<a href="https://www.egr.msu.edu/rival/">Dr. Zhaojian Li</a>, <a href="https://www.egr.msu.edu/~dmorris/">Dr. Morris Daniel</a>, <a href="https://www.canr.msu.edu/people/dr_randy_beaudry">Dr. Randy Beaudry</a>'},{label:"Focus",value:"AI-powered optical sensing and smart agriculture"}]},{degree:"M.S.",year:"2021",duration:"2021 – 2024",institution:"Beijing Forestry University",location:"Beijing, China",logo:new URL("/assets/bjfu-logo-CXew0C0t.svg",import.meta.url).href,details:[{label:"Advisor",value:'<a href="https://gxy.bjfu.edu.cn/jiaozhiyuangong/jiaoshixilie/bssds/k/341310.html">Dr. Jiangming Kan</a>'},{label:"Dissertation",value:'"Computer Vision-Based Automated System for DBH Measurement"'}],achievement:"GPA Rank: 1 / 127"},{degree:"B.S.",year:"2016",duration:"2016 – 2020",institution:"China University of Mining and Technology, Beijing",location:"Beijing, China",logo:new URL("/assets/cumtb-logo-CXCEgT37.svg",import.meta.url).href,details:null,achievement:null},{degree:"High School",year:"2010",duration:"2010 – 2016",institution:"Northeast Normal University Affiliated High School",location:"Changchun, Jilin",logo:new URL("/assets/nenu-logo-BwgyU0NZ.png",import.meta.url).href,details:null,achievement:null}],n=e=>{switch(e.toLowerCase()){case"ph.d.":return"edu-degree-phd";case"m.s.":return"edu-degree-master";case"b.s.":return"edu-degree-bachelor";case"high school":return"edu-degree-high-school";default:return""}};return(e,a)=>(f(),d("section",Rt,[a[2]||(a[2]=g("h2",{class:"section-title"},"Education",-1)),g("div",Et,[a[1]||(a[1]=g("div",{class:"timeline-line"},null,-1)),(f(),d(m,null,v(t,(e,t)=>{return g("div",{class:b(["edu-item",n(e.degree)]),key:t},[g("div",{class:b(["edu-card glass-card",n(e.degree)]),style:y((i=e.logo,{"--edu-logo-url":`url(${i})`}))},[g("div",Lt,S(e.degree),1),g("div",Ot,[g("h3",Mt,S(e.institution),1),g("div",Bt,[g("span",Ft,S(e.location),1),g("span",Ut,S(e.duration),1)]),e.details&&e.details.length>0?(f(),d("div",Nt,[(f(!0),d(m,null,v(e.details,(e,t)=>(f(),d("div",{class:"edu-detail",key:t},[g("span",_t,S(e.label)+":",1),g("span",{class:"detail-value",innerHTML:e.value},null,8,Gt)]))),128))])):w("",!0),e.achievement?(f(),d("div",jt,[a[0]||(a[0]=g("span",{class:"achievement-icon"},"★",-1)),C(" "+S(e.achievement),1)])):w("",!0)])],6)],2);var i}),64))])]))}},zt={id:"work",class:"content-section"},Ht={class:"work-grid"},qt={class:"work-logo"},Wt=["src","alt"],Jt={class:"work-content"},Zt={class:"work-header"},Kt={class:"work-title"},$t={class:"work-year"},Xt={class:"work-company"},Yt={class:"work-duration"},Qt={class:"work-location"},en={__name:"WorkSection",setup(e){const t=[{year:"2023",duration:"2023 – 2024",title:"Computer Vision Engineer",company:"Mech-Mind Technology",location:"Beijing, China",logo:"https://raw.githubusercontent.com/CharmingZh/CharmingZh.github.io/main/src/Work/logo_MechMind.png"},{year:"2022",duration:"2022",title:"Research Intern",company:"Bohr Intelligent Manufacturing",location:"Shenzhen, China",logo:"https://raw.githubusercontent.com/CharmingZh/CharmingZh.github.io/main/src/Work/logo_BohrIntelManu.png"},{year:"2020",duration:"2020 – 2021",title:"System Software Engineer",company:"ByteDance",location:"Beijing, China",logo:"https://raw.githubusercontent.com/CharmingZh/CharmingZh.github.io/main/src/Work/logo_ByteDance.png"},{year:"2018",duration:"2018 – 2020",title:"Barista (Part Time)",company:"Starbucks",location:"Beijing, China",logo:"https://raw.githubusercontent.com/CharmingZh/CharmingZh.github.io/main/src/Work/logo_starbucks.png"}];return(e,n)=>(f(),d("section",zt,[n[0]||(n[0]=g("h2",{class:"section-title"},"Work Experience",-1)),g("div",Ht,[(f(),d(m,null,v(t,(e,t)=>g("div",{class:"work-card glass-card",key:t},[g("div",qt,[g("img",{src:e.logo,alt:e.company},null,8,Wt)]),g("div",Jt,[g("div",Zt,[g("h3",Kt,S(e.title),1),g("span",$t,S(e.year),1)]),g("p",Xt,S(e.company),1),g("p",Yt,S(e.duration),1),g("p",Qt,S(e.location),1)])])),64))])]))}},tn={id:"research",class:"content-section"};const nn=At({},[["render",function(e,t){return f(),d("section",tn,t[0]||(t[0]=[p('<h2 class="section-title">Research Showcase</h2><div class="scroller-container"><div class="scroller"><div class="scroller-content"><div class="research-card-scroll glass-card"><div class="research-card-scroll-tag tag-msu">MSU Project</div><img src="https://raw.githubusercontent.com/CharmingZh/CharmingZh.github.io/main/src/Research/2025_Apple.png" alt="Robotic arm inspecting an apple" class="research-card-scroll-img"><div class="research-card-scroll-content"><h3 class="research-card-scroll-title">Multimodal Fusion for Apple Defect Detection</h3><p class="research-card-scroll-desc">Fusing 2D images and 3D point clouds with unsupervised learning to identify surface defects on apples.</p></div></div><div class="research-card-scroll glass-card"><div class="research-card-scroll-tag tag-msu">MSU Project</div><img src="https://raw.githubusercontent.com/CharmingZh/CharmingZh.github.io/main/src/Research/2025_laser.png" alt="3D laser scanner analyzing chicken" class="research-card-scroll-img"><div class="research-card-scroll-content"><h3 class="research-card-scroll-title">Woody Breast Detection in Chicken</h3><p class="research-card-scroll-desc">Developed a dual-line laser scanning system for 3D reconstruction of chicken fillets to classify woody breast conditions.</p></div></div><div class="research-card-scroll glass-card"><div class="research-card-scroll-tag tag-bfu">BFU Project</div><img src="https://raw.githubusercontent.com/CharmingZh/CharmingZh.github.io/main/src/Research/2023_pruning.png" alt="Robotic arm in an apple orchard" class="research-card-scroll-img"><div class="research-card-scroll-content"><h3 class="research-card-scroll-title">AI-Assisted Robotic Pruning</h3><p class="research-card-scroll-desc">Used deep learning to segment branches and identify pruning points from RGB-D images for efficient robotic pruning.</p></div></div><div class="research-card-scroll glass-card"><div class="research-card-scroll-tag tag-bfu">BFU Project</div><img src="https://raw.githubusercontent.com/CharmingZh/CharmingZh.github.io/main/src/Research/2023_DBH.png" alt="LIDAR scanner in a forest" class="research-card-scroll-img"><div class="research-card-scroll-content"><h3 class="research-card-scroll-title">Automated Forest Inventory</h3><p class="research-card-scroll-desc">Designed a vision-based toolkit for reconstructing forests and automating tree DBH measurements.</p></div></div><div class="research-card-scroll glass-card"><div class="research-card-scroll-tag tag-personal">Personal Project</div><img src="https://raw.githubusercontent.com/CharmingZh/CharmingZh.github.io/main/src/Research/2021_gobi.png" alt="Diverse desert rocks and gravel" class="research-card-scroll-img"><div class="research-card-scroll-content"><h3 class="research-card-scroll-title">3D Gravel Morphology Analysis</h3><p class="research-card-scroll-desc">Designed photogrammetric tools for detailed 3D analysis of gravel terrains in the Dunhuang Gobi.</p></div></div><div class="research-card-scroll glass-card"><div class="research-card-scroll-tag tag-msu">MSU Project</div><img src="https://raw.githubusercontent.com/CharmingZh/CharmingZh.github.io/main/src/Research/2025_Apple.png" alt="Robotic arm inspecting an apple" class="research-card-scroll-img"><div class="research-card-scroll-content"><h3 class="research-card-scroll-title">Multimodal Fusion for Apple Defect Detection</h3><p class="research-card-scroll-desc">Fusing 2D images and 3D point clouds with unsupervised learning to identify surface defects on apples.</p></div></div><div class="research-card-scroll glass-card"><div class="research-card-scroll-tag tag-msu">MSU Project</div><img src="https://raw.githubusercontent.com/CharmingZh/CharmingZh.github.io/main/src/Research/2025_laser.png" alt="3D laser scanner analyzing chicken" class="research-card-scroll-img"><div class="research-card-scroll-content"><h3 class="research-card-scroll-title">Woody Breast Detection in Chicken</h3><p class="research-card-scroll-desc">Developed a dual-line laser scanning system for 3D reconstruction of chicken fillets to classify woody breast conditions.</p></div></div><div class="research-card-scroll glass-card"><div class="research-card-scroll-tag tag-bfu">BFU Project</div><img src="https://raw.githubusercontent.com/CharmingZh/CharmingZh.github.io/main/src/Research/2023_pruning.png" alt="Robotic arm in an apple orchard" class="research-card-scroll-img"><div class="research-card-scroll-content"><h3 class="research-card-scroll-title">AI-Assisted Robotic Pruning</h3><p class="research-card-scroll-desc">Used deep learning to segment branches and identify pruning points from RGB-D images for efficient robotic pruning.</p></div></div><div class="research-card-scroll glass-card"><div class="research-card-scroll-tag tag-bfu">BFU Project</div><img src="https://raw.githubusercontent.com/CharmingZh/CharmingZh.github.io/main/src/Research/2023_DBH.png" alt="LIDAR scanner in a forest" class="research-card-scroll-img"><div class="research-card-scroll-content"><h3 class="research-card-scroll-title">Automated Forest Inventory</h3><p class="research-card-scroll-desc">Designed a vision-based toolkit for reconstructing forests and automating tree DBH measurements.</p></div></div><div class="research-card-scroll glass-card"><div class="research-card-scroll-tag tag-personal">Personal Project</div><img src="https://raw.githubusercontent.com/CharmingZh/CharmingZh.github.io/main/src/Research/2021_gobi.png" alt="Diverse desert rocks and gravel" class="research-card-scroll-img"><div class="research-card-scroll-content"><h3 class="research-card-scroll-title">3D Gravel Morphology Analysis</h3><p class="research-card-scroll-desc">Designed photogrammetric tools for detailed 3D analysis of gravel terrains in the Dunhuang Gobi.</p></div></div></div></div></div>',2)]))}]]),an={id:"publications",class:"content-section"};const sn=At({},[["render",function(e,t){return f(),d("section",an,t[0]||(t[0]=[g("h2",{class:"section-title"},"Publications",-1),g("div",{class:"pub-years"},[g("button",{class:"pub-year-btn active","data-year":"2026","c-option":"2026"},"2026"),g("button",{class:"pub-year-btn active","data-year":"2025","c-option":"2025"},"2025"),g("button",{class:"pub-year-btn","data-year":"2024","c-option":"2024"},"2024"),g("button",{class:"pub-year-btn","data-year":"2023","c-option":"2023"},"2023"),g("button",{class:"pub-year-btn","data-year":"2020","c-option":"2020"},"2020")],-1),p('<div class="pub-lists-container glass-card"><div id="publications-list-2026" class="pub-list active" data-year="2026"><ul><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-conference">Conference</span><span class="pub-tag tag-review">Under Review</span></div><p class="pub-title"><a href="https://doi.org/10.1016/j.jfoodeng.2025.112820" target="_blank" rel="noopener noreferrer">&quot;Robust Laser-Line Detection for Real-time Woody Breast Assessment Using Synthetic Data and Deep Learning.&quot;</a></p><p class="authors"><span class="me"><b>Jiaming Zhang</b></span>, <span class="corr-author">Yuzhen Lu</span></p><p class="pub-venue">AI in Agriculture - 2026 - AI Systems &amp; Integrative Approaches</p></li><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-conference">Conference</span><span class="pub-tag tag-review">Under Review</span></div><p class="pub-title"><a href="https://doi.org/10.1016/j.jfoodeng.2025.112820" target="_blank" rel="noopener noreferrer">&quot;Multiview 3D Geometry Modeling and Deep Feature Fusion for Real-time Postharvest Apple Quality Grading.&quot;</a></p><p class="authors"><span class="me"><b>Jiaming Zhang</b></span>, <span class="corr-author">Yuzhen Lu</span></p><p class="pub-venue">AI in Agriculture - 2026 - Food, Postharvest &amp; Supply Chains</p></li><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-conference">Conference</span><span class="pub-tag tag-review">Under Review</span></div><p class="pub-title"><a href="https://doi.org/10.1016/j.jfoodeng.2025.112820" target="_blank" rel="noopener noreferrer">&quot;A New Dual-Line Laser System for Real-Time 3D Reconstruction and Grading of Woody Breast Chicken Fillets&quot;</a></p><p class="authors"><span class="me"><b>Jiaming Zhang</b></span>, <span class="corr-author">Yuzhen Lu</span></p><p class="pub-venue">SPIE. Defense + Security - 2026 - Three-Dimensional Imaging, Visualization, and Display (DS116)</p><div class="pub-links"><a href="https://charmingzh.github.io/3DLaserPoultry/" class="pub-action-tag" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="16" height="16"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"></path></svg><span>Project Homepage</span></a><a href="https://github.com/CharmingZh/3DLaserPoultry" class="pub-action-tag" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="16" height="16"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><span>Code</span></a><a href="https://github.com/CharmingZh/3DLaserPoultry/blob/main/docs/src/AI_CONF_POSTER.pdf" class="pub-action-tag" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="16" height="16"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"></path></svg><span>Poster</span></a></div></li><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-conference">Conference</span><span class="pub-tag tag-review">Under Review</span></div><p class="pub-title"><a href="https://doi.org/10.1016/j.jfoodeng.2025.112820" target="_blank" rel="noopener noreferrer">&quot;A Real-Time Apple Grading and Sorting System Using 3D Image Analysis and Deep Learning.&quot;</a></p><p class="authors"><span class="me"><b>Jiaming Zhang</b></span>, <span class="corr-author">Yuzhen Lu</span></p><p class="pub-venue">SPIE. Defense + Security - 2026 - Sensing for Agriculture and Food Quality and Safety XVIII (DS312)</p></li></ul></div><div id="publications-list-2025" class="pub-list active" data-year="2025"><ul><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-journal">Journal</span><span class="pub-tag tag-revision">In Revision</span></div><p class="pub-title"><a href="#" target="_blank" rel="noopener noreferrer">&quot;Spatial Mismatch and Inequality between Ecological Pressure and Economic Benefits Embodied in Agricultural Trade.&quot;</a></p><p class="authors">Kaige Lei, <span class="me"><b>Jiaming Zhang</b></span>, <span class="corr-author">Yan Li</span>, Xinhui Feng, Jiayu Yang, Li Hou, Jianguo Liu</p><p class="pub-venue">Environmental Impact Assessment Review</p></li><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-journal">Journal</span><span class="pub-tag tag-published">Published</span></div><p class="pub-title"><a href="https://doi.org/10.1016/j.jfoodeng.2025.112820" target="_blank" rel="noopener noreferrer">&quot;Proof-of-Concept Evaluation of A 3D Laser Profiling System Prototype for Real-Time Woody Breast Detection in Broiler Breast Fillets.&quot;</a></p><p class="authors"><span class="me"><b>Jiaming Zhang</b></span>, <span class="corr-author">Yuzhen Lu</span></p><p class="pub-venue">Journal of Food Engineering</p><div class="pub-links"><a href="https://charmingzh.github.io/3DLaserPoultry/" class="pub-action-tag" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="16" height="16"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"></path></svg><span>Project Homepage</span></a><a href="https://github.com/CharmingZh/3DLaserPoultry" class="pub-action-tag" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="16" height="16"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg><span>Code</span></a><a href="https://github.com/CharmingZh/3DLaserPoultry/blob/main/docs/src/AI_CONF_POSTER.pdf" class="pub-action-tag" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="16" height="16"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"></path></svg><span>Poster</span></a></div></li><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-journal">Journal</span><span class="pub-tag tag-review">Under Review</span></div><p class="pub-title"><a href="#" target="_blank" rel="noopener noreferrer">&quot;An Apple Tree Pruning Robot System based on Branch Segmentation and Decision Making Control.&quot;</a></p><p class="authors">Siyuan Tong, Jingwei Wang, <span class="me"><b>Jiaming Zhang</b></span>, Long Liu, Yaxiong Wang, <span class="corr-author">Feng Kang</span></p><p class="pub-venue">Artificial Intelligence in Agriculture</p></li><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-journal">Journal</span><span class="pub-tag tag-drafting">Drafting</span></div><p class="pub-title"><a href="#" target="_blank" rel="noopener noreferrer">&quot;Improved YOLOv8-Seg for Litchi Cluster Detection and Secondary Localization of Picking Point.&quot;</a></p><p class="authors">Yunhe Zhou, Chunjiang Yu, <span class="me"><b>Jiaming Zhang</b></span>, <span class="corr-author">Jiangming Kan</span>, Yuanhang Liu, <span class="corr-author">Xiangjun Zou</span>, Kang Zhang, Sheng Zhang</p></li></ul></div><div id="publications-list-2024" class="pub-list" data-year="2024"><ul><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-journal">Journal</span></div><p class="pub-title"><a href="https://doi.org/10.1016/j.jfoodeng.2024.112133" target="_blank" rel="noopener noreferrer">&quot;Online Sorting of Surface Defective Walnuts based on Deep Learning.&quot;</a></p><p class="authors">Jingwei Wang, <span class="corr-author">Xiaopeng Bai</span>, <span class="corr-author">Daochun Xu</span>, Wenbin Li, Siyuan Tong, <span class="me"><b>Jiaming Zhang</b></span></p><p class="pub-venue">Journal of Food Engineering</p></li><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-journal">Journal</span></div><p class="pub-title"><a href="https://doi.org/10.1016/j.jclepro.2024.142038" target="_blank" rel="noopener noreferrer">&quot;Development of a 3D Point Cloud Reconstruction-Based Apple Canopy Liquid Sedimentation Model.&quot;</a></p><p class="authors">Chongchong Chen, Yalan Jia, <span class="me"><b>Jiaming Zhang</b></span>, Linsen Yang, Feng Kang, <span class="corr-author">Yaxiong Wang</span></p><p class="pub-venue">Journal of Cleaner Production</p></li><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-journal">Journal</span></div><p class="pub-title"><a href="https://doi.org/10.1016/j.compag.2023.108606" target="_blank" rel="noopener noreferrer">&quot;A Novel Forestry Information-collecting Mobile System.&quot;</a></p><p class="authors">Shun Yao<sup class="co-first-author-symbol">†</sup>, <span class="me"><b>Jiaming Zhang</b></span><sup class="co-first-author-symbol">†</sup>, <span class="corr-author">Jiangming Kan</span>, Ruifang Dong</p><p class="pub-venue">Computers and Electronics in Agriculture</p><p class="pub-footnote"><sup class="co-first-author-symbol">†</sup>: Equal contribution</p></li></ul></div><div id="publications-list-2023" class="pub-list" data-year="2023"><ul><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-journal">Journal</span></div><p class="pub-title"><a href="http://dx.doi.org/10.3390/f14122334" target="_blank" rel="noopener noreferrer">&quot;An Advanced Software Platform and Algorithmic Framework for Mobile DBH Data Acquisition.&quot;</a></p><p class="authors"><span class="me"><b>Jiaming Zhang</b></span>, Hanyan Liang, Siyuan Tong, Yunhe Zhou, <span class="corr-author">Jiangming Kan</span></p><p class="pub-venue">Forests</p></li><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-journal">Journal</span></div><p class="pub-title"><a href="https://doi.org/10.1016/j.biosystemseng.2023.11.006" target="_blank" rel="noopener noreferrer">&quot;An Image-based System for Locating Pruning Points in Apple Trees Using Instance Segmentation and RGB-D Images.&quot;</a></p><p class="authors">Siyuan Tong, <span class="me"><b>Jiaming Zhang</b></span>, Wenbin Li, Yaxiong Wang, <span class="corr-author">Feng Kang</span></p><p class="pub-venue">Biosystems Engineering</p></li><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-journal">Journal</span></div><p class="pub-title"><a href="https://doi.org/10.1016/j.biosystemseng.2023.11.006" target="_blank" rel="noopener noreferrer">&quot;Defocus Blur Detection based on Transformer and Complementary Residual Learning.&quot;</a></p><p class="authors">Shuyao Chai, Xixuan Zhao, <span class="me"><b>Jiaming Zhang</b></span>, <span class="corr-author">Jiangming Kan</span></p><p class="pub-venue">Biosystems Engineering</p></li><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-journal">Journal</span></div><p class="pub-title"><a href="https://doi.org/10.1016/j.biosystemseng.2023.11.006" target="_blank" rel="noopener noreferrer">&quot;A Lightweight Forest Scene Image Dehazing Network Based on Joint Image Priors.&quot;</a></p><p class="authors">Xixuan Zhao, Yu Miao, Zihui Jin, <span class="me"><b>Jiaming Zhang</b></span>, <span class="corr-author">Jiangming Kan</span></p><p class="pub-venue">Biosystems Engineering</p></li><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-journal">Journal</span></div><p class="pub-title"><a href="https://doi.org/10.1016/j.biosystemseng.2023.11.006" target="_blank" rel="noopener noreferrer">&quot;Tea Bud and Picking Point Detection Based on Deep Learning.&quot;</a></p><p class="authors">Junquan Meng, Yaxiong Wang, <span class="me"><b>Jiaming Zhang</b></span>, Siyuan Tong, ..., <span class="corr-author">Feng Kang</span></p><p class="pub-venue">Biosystems Engineering</p></li></ul></div><div id="publications-list-2020" class="pub-list" data-year="2020"><ul><li class="pub-card"><div class="pub-meta"><span class="pub-tag tag-journal">Journal</span></div><p class="pub-title"><a href="https://doi.org/10.16660/j.cnki.1674-098X.2020.03.105" target="_blank" rel="noopener noreferrer">&quot;Numerical simulation based on the CIR model and positive comparative analysis of set-up participation&quot;</a></p><p class="authors">Shilei Gao, Anqi Li, Jialu He, Heng Yuan, <span class="me"><b>Jiaming Zhang</b></span></p><p class="pub-venue">Science and Technology Innovation Herald (Chinese)</p></li></ul></div></div>',1)]))}]]),rn={id:"gallery",class:"content-section"};const on=At({},[["render",function(e,t){return f(),d("section",rn,t[0]||(t[0]=[p('<h2 class="section-title" data-v-8e337695>Gallery</h2><p class="section-description" data-v-8e337695> A glimpse into my life moments. For my photography portfolio, <a href="/photography" class="photography-link" data-v-8e337695>explore my photography collection →</a></p><div class="carousel-container glass-card" data-v-8e337695><div class="carousel" data-v-8e337695><div class="carousel-track-container" data-v-8e337695><ul class="carousel-track" data-v-8e337695><li class="carousel-slide current-slide" data-v-8e337695><img class="carousel-image" src="/Gallery/photo_01.png" alt="1" loading="lazy" decoding="async" data-v-8e337695><div class="carousel-caption" data-v-8e337695><h3 data-v-8e337695>2024, School of Engineering</h3><p data-v-8e337695>Master&#39;s Graduation at Beijing Forestry University.</p></div></li><li class="carousel-slide" data-v-8e337695><img class="carousel-image" src="/Gallery/photo_02.png" alt="2" loading="lazy" decoding="async" data-v-8e337695><div class="carousel-caption" data-v-8e337695><h3 data-v-8e337695>Master&#39;s Thesis Defense</h3><p data-v-8e337695>Beijing Forestry University.</p></div></li><li class="carousel-slide" data-v-8e337695><img class="carousel-image" src="/Gallery/photo_03.png" alt="3" loading="lazy" decoding="async" data-v-8e337695><div class="carousel-caption" data-v-8e337695><h3 data-v-8e337695>Nanjing, 2018</h3><p data-v-8e337695>Nanjing, 2018</p></div></li><li class="carousel-slide" data-v-8e337695><img class="carousel-image" src="/Gallery/photo_04.png" alt="4" loading="lazy" decoding="async" data-v-8e337695><div class="carousel-caption" data-v-8e337695><h3 data-v-8e337695>Workspace in the U.S.</h3><p data-v-8e337695>Enjoying a beautiful day.</p></div></li><li class="carousel-slide" data-v-8e337695><img class="carousel-image" src="/Gallery/photo_05.png" alt="5" loading="lazy" decoding="async" data-v-8e337695><div class="carousel-caption" data-v-8e337695><h3 data-v-8e337695>Beidahu Ski Resort, Jilin</h3><p data-v-8e337695>Snowboarding is not only a beloved sport, but also a way to connect with nature and find clarity.</p></div></li></ul></div><button class="carousel-button carousel-button--left" data-v-8e337695><svg viewBox="0 0 24 24" data-v-8e337695><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" data-v-8e337695></path></svg></button><button class="carousel-button carousel-button--right" data-v-8e337695><svg viewBox="0 0 24 24" data-v-8e337695><path d="M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z" data-v-8e337695></path></svg></button><div class="carousel-nav" data-v-8e337695><button class="carousel-indicator current-slide" data-v-8e337695></button><button class="carousel-indicator" data-v-8e337695></button><button class="carousel-indicator" data-v-8e337695></button><button class="carousel-indicator" data-v-8e337695></button><button class="carousel-indicator" data-v-8e337695></button></div></div></div>',3)]))}],["__scopeId","data-v-8e337695"]]),ln=At({__name:"Footer",setup(e){const t=s("currentTheme"),n=()=>{const e=document.getElementById("mapmyvisitors-container");if(!e)return;const t=document.getElementById("mapmyvisitors");t&&t.remove(),e.innerHTML="";const n=getComputedStyle(document.body),a=n.getPropertyValue("--map-ocean-color").trim().replace("#",""),i=n.getPropertyValue("--map-land-color").trim().replace("#",""),s=n.getPropertyValue("--map-past-visitors-color").trim().replace("#",""),r=n.getPropertyValue("--map-recent-visitors-color").trim().replace("#",""),o=n.getPropertyValue("--map-text-color").trim().replace("#",""),l=document.createElement("script");l.type="text/javascript",l.id="mapmyvisitors",l.async=!0,l.src=`//mapmyvisitors.com/map.js?d=YJ5tJC9Cdj8baVhSikHNQIW1U0rlJuKC09z8yCFRKEI&cl=${a}&co=${i}&cmn=${s}&cmo=${r}&t=${o}&w=a`,e.appendChild(l)};return k(()=>{n()}),u(t,()=>{requestAnimationFrame(()=>{n()})}),(e,t)=>(f(),d("div",null,t[0]||(t[0]=[g("footer",{class:"footer"},[g("div",{class:"social-links"},[g("a",{href:"mailto:zhan2374@msu.edu",title:"Email"},[g("svg",{viewBox:"0 0 24 24",width:"24",height:"24"},[g("path",{fill:"#4285F4",d:"M3 4a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4Zm2 0v.01L12 9.51 17 4.01V4H5Zm0 2.62V18h14V6.62l-5.99 4.68a1 1 0 0 1-1.24 0L5 6.62Z"})])]),g("a",{href:"https://github.com/CharmingZh",target:"_blank",title:"GitHub"},[g("svg",{viewBox:"0 0 24 24",width:"24",height:"24"},[g("path",{fill:"#4285F4",d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.09.68-.22.68-.48v-1.69c-2.78.6-3.37-1.34-3.37-1.34c-.45-1.15-1.1-1.46-1.1-1.46c-.91-.62.07-.61.07-.61c1 .07 1.53 1.03 1.53 1.03c.9 1.52 2.36 1.08 2.94.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.1.39-1.99 1.03-2.69a2.3 2.3 0 0 1 .1-2.64s.84-.27 2.75 1.02a9.58 9.58 0 0 1 5 0c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.37.2 2.4.1 2.64c.64.7 1.03 1.6 1.03 2.69c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85v2.72c0 .27.18.58.69.48A10 10 0 0 0 12 2Z"})])]),g("a",{href:"https://scholar.google.com.hk/citations?user=kEJINEIAAAAJ",target:"_blank",title:"Google Scholar"},[g("svg",{viewBox:"0 0 512 512",width:"24",height:"24","aria-label":"Google Scholar",role:"img"},[g("rect",{width:"512",height:"512",rx:"15%",fill:"#4285F4"}),g("path",{fill:"#FFFFFF",d:"M213 111l-107 94h69c5 45 41 64 78 67-7 18-4 27 7 39-43 1-103 26-103 67\n                   4 45 63 54 92 54 38 1 81-19 90-54 4-35-10-54-31-71-23-18-28-28-21-40\n                   15-17 35-27 39-51 2-17-2-28-6-43l45-38-1 16c-3 2-5 6-5 9v103c2 13 22 11\n                   23 0V160c0-3-2-7-5-8v-25l16-16zm58 141c-61 10-87-87-38-99 56-11 83 86\n                   38 99zm-5 73c60 13 61 63 10 78-44 9-82-4-81-30 0-25 35-48 71-48z"})])]),g("a",{href:"https://www.linkedin.com/in/jiamingzh/",target:"_blank",title:"LinkedIn"},[g("svg",{viewBox:"0 0 24 24",width:"24",height:"24"},[g("path",{fill:"#4285F4",d:"M4.98 3.5C4.98 4.88 3.86 6 2.48 6S0 4.88 0 3.5\n                   1.12 1 2.5 1 4.98 2.12 4.98 3.5zm.02 4.5H0v14h5V8zm7.5\n                   0h-5v14h5V15.6c0-2.7.5-5.4 3.4-5.4 2.9 0 2.9 2.7\n                   2.9 5.5V22h5v-8.9c0-6.8-3.6-9.9-8.4-9.9-4.3\n                   0-6.2 2.6-7.3 4.4.1 0 .1 0 .1 0V8z"})])])]),g("div",{id:"mapmyvisitors-container",class:"visitor-map"}),g("p",null,"© 2025 Jiaming Zhang. All Rights Reserved.")],-1),p('<button class="theme-switcher" id="theme-toggle" title="Switch Theme" data-v-191c6df1><svg class="icon-sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" data-v-191c6df1><path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.106a.75.75 0 010 1.06l-1.591 1.59a.75.75 0 11-1.06-1.06l1.59-1.59a.75.75 0 011.061 0zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5h2.25a.75.75 0 01.75.75zM17.836 17.894a.75.75 0 011.06 0l1.591 1.591a.75.75 0 11-1.06 1.06l-1.591-1.59a.75.75 0 010-1.06zM12 21.75a.75.75 0 01-.75-.75v-2.25a.75.75 0 011.5 0v2.25a.75.75 0 01-.75-.75zM5.106 17.836a.75.75 0 010-1.06l1.591-1.591a.75.75 0 111.06 1.06l-1.59 1.591a.75.75 0 01-1.061 0zM3 12a.75.75 0 01.75-.75h2.25a.75.75 0 010-1.5H3.75A.75.75 0 013 12zM6.106 5.106a.75.75 0 011.06 0l1.591 1.591a.75.75 0 01-1.06 1.06L6.106 6.167a.75.75 0 010-1.06z" data-v-191c6df1></path></svg><svg class="icon-moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" data-v-191c6df1><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 004.472-.528.75.75 0 01.818.162.75.75 0 01.162.819A10.5 10.5 0 119.528 1.718zM16.5 9a.75.75 0 01.75.75 1.5 1.5 0 001.5 1.5.75.75 0 010 1.5 1.5 1.5 0 00-1.5 1.5.75.75 0 01-1.5 0 1.5 1.5 0 00-1.5-1.5.75.75 0 010-1.5 1.5 1.5 0 001.5-1.5.75.75 0 01.75-.75z" clip-rule="evenodd" data-v-191c6df1></path></svg></button>',1)])))}},[["__scopeId","data-v-191c6df1"]]),cn={class:"content-wrapper"},un=At({__name:"GlassEffect",props:{borderRadius:{type:String,default:"15px"},distortion:{type:Number,default:.05},padding:{type:String,default:"25px"}},setup(e){P(t=>({"6dc4ae88":e.borderRadius,c36ff1b2:e.padding}));const t=e,n=c(null),a=c(null),i=c(null);let s,r,o,l,h,p,m,v,b=!0,y=[];const S=()=>("undefined"==typeof CSS||"function"!=typeof CSS.supports||!CSS.supports("backdrop-filter","blur(24px)")&&!CSS.supports("-webkit-backdrop-filter","blur(24px)"))&&(()=>{try{const e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch{return!1}})(),w=(e,t)=>{let n;return function(){const a=arguments,i=this;n||(e.apply(i,a),n=!0,setTimeout(()=>n=!1,t))}};k(()=>{S()?C():D()});const C=()=>{const e=n.value,a=i.value;try{s=new U({canvas:a,dpr:Math.min(window.devicePixelRatio,2),alpha:!0}),r=s.gl,o=new N,o.position.z=1,l=new _;const e=new G(r);new Promise(e=>{const t=document.createElement("canvas"),n=t.getContext("2d"),a=window.getComputedStyle(document.body);t.width=window.innerWidth,t.height=window.innerHeight;const i=a.backgroundColor,s=n.createLinearGradient(0,0,t.width,t.height);s.addColorStop(0,i),s.addColorStop(.5,"rgba(255,255,255,0.1)"),s.addColorStop(1,i),n.fillStyle=s,n.fillRect(0,0,t.width,t.height);e(new j(r,{image:t}))}).then(n=>{p=new V(r,{vertex:"\n  attribute vec2 uv;\n  attribute vec3 position;\n  varying vec2 vUv;\n  void main() {\n    vUv = uv;\n    gl_Position = vec4(position, 1.0);\n  }\n",fragment:"\n  precision highp float;\n  varying vec2 vUv;\n  uniform sampler2D tBackground;\n  uniform vec2 uResolution;\n  uniform float uTime;\n  uniform vec2 uMouse;\n  uniform float uDistortion;\n\n  void main() {\n    vec2 uv = gl_FragCoord.xy / uResolution.xy;\n\n    // 创建液态波浪效果 - 多个波浪叠加\n    float wave1 = sin(uv.x * 6.28 * 2.0 + uTime * 0.5) * 0.05;\n    float wave2 = cos(uv.y * 6.28 * 3.0 + uTime * 0.3) * 0.05;\n    float wave3 = sin((uv.x + uv.y) * 6.28 * 1.5 + uTime * 0.2) * 0.03;\n\n    vec2 distortedUv = uv + vec2(wave1 + wave3, wave2 + wave3) * uDistortion;\n\n    vec4 background = texture2D(tBackground, distortedUv);\n\n    // 添加鼠标交互高光\n    float distToMouse = distance(uv, uMouse);\n    float highlight = 0.3 * pow(1.0 - clamp(distToMouse, 0.0, 1.0), 4.0);\n\n    // 边缘光晕\n    float edgeFactor = smoothstep(0.0, 0.1, vUv.x) * (1.0 - smoothstep(0.9, 1.0, vUv.x)) *\n                     smoothstep(0.0, 0.1, vUv.y) * (1.0 - smoothstep(0.9, 1.0, vUv.y));\n    float edgeHighlight = 0.2 * pow(1.0 - edgeFactor, 8.0);\n\n    vec3 finalColor = background.rgb + highlight + edgeHighlight;\n\n    gl_FragColor = vec4(finalColor, background.a * 0.9);\n  }\n",uniforms:{tBackground:{value:n},uResolution:{value:[r.canvas.width,r.canvas.height]},uTime:{value:0},uMouse:{value:[.5,.5]},uDistortion:{value:t.distortion}},transparent:!0}),h=new z(r,{geometry:e,program:p}),h.setParent(l);const a=w(x,16);window.addEventListener("mousemove",a),R(),y.push(()=>{window.removeEventListener("mousemove",a)})})}catch(d){D()}const c=((e,t)=>{let n;return function(...a){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e(...a)},t)}})(T,100);m=new ResizeObserver(c),m.observe(e),T();const u=new IntersectionObserver(e=>{e.forEach(e=>{b=e.isIntersecting})},{threshold:.1});u.observe(e),y.push(()=>{m&&m.disconnect(),u.disconnect()})},D=()=>{const e=n.value,t=a.value;t&&(t.style.display="none"),e.classList.add("glass-effect-css-only");setTimeout(()=>{e.style.animation="glass-shimmer 8s ease-in-out infinite"},100),y.push(()=>{e.classList.remove("glass-effect-css-only"),e.style.animation=""})};function T(){if(!n.value||!s)return;const e=n.value.getBoundingClientRect();s.setSize(e.width,e.height),o.perspective({aspect:r.canvas.width/r.canvas.height}),p&&(p.uniforms.uResolution.value=[e.width,e.height])}I(()=>{v&&cancelAnimationFrame(v),y.forEach(e=>e()),y.length=0,s&&s.destroy(),p&&p.destroy(),h&&h.destroy()});const x=e=>{if(p&&n.value){const t=n.value.getBoundingClientRect(),a=(e.clientX-t.left)/t.width,i=1-(e.clientY-t.top)/t.height;p.uniforms.uMouse.value=[a,i]}};function R(e){b?(v=requestAnimationFrame(R),p&&(p.uniforms.uTime.value=1e-4*e,s.render({scene:l,camera:o}))):v=setTimeout(()=>R(performance.now()),1e3)}return u(()=>t.distortion,e=>{p&&(p.uniforms.uDistortion.value=e)}),(e,t)=>(f(),d("div",{class:"glass-container",ref_key:"containerRef",ref:n},[g("div",{class:"canvas-wrapper",ref_key:"canvasWrapperRef",ref:a},[g("canvas",{ref_key:"canvasRef",ref:i},null,512)],512),g("div",cn,[A(e.$slots,"default",{},void 0,!0)])],512))}},[["__scopeId","data-v-9eb08dc1"]]);var hn="undefined"!=typeof self?self:global;const dn="undefined"!=typeof navigator,pn=dn&&"undefined"==typeof HTMLImageElement,fn=!("undefined"==typeof global||"undefined"==typeof process||!process.versions||!process.versions.node),gn=hn.Buffer,mn=hn.BigInt,vn=!!gn,bn=e=>e;function yn(e,t=bn){if(fn)try{return"function"==typeof require?Promise.resolve(t(require(e))):import(e).then(t)}catch(n){}}let Sn=hn.fetch;if(!hn.fetch){const e=yn("http",e=>e),t=yn("https",e=>e),n=(a,{headers:i}={})=>new Promise(async(s,r)=>{let{port:o,hostname:l,pathname:c,protocol:u,search:h}=new URL(a);const d={method:"GET",hostname:l,path:encodeURI(c)+h,headers:i};""!==o&&(d.port=Number(o));const p=("https:"===u?await t:await e).request(d,e=>{if(301===e.statusCode||302===e.statusCode){let t=new URL(e.headers.location,a).toString();return n(t,{headers:i}).then(s).catch(r)}s({status:e.statusCode,arrayBuffer:()=>new Promise(t=>{let n=[];e.on("data",e=>n.push(e)),e.on("end",()=>t(Buffer.concat(n)))})})});p.on("error",r),p.end()});(e=>{Sn=e})(n)}function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Cn=e=>In(e)?void 0:e,kn=e=>void 0!==e;function In(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(kn).length)}function An(e){let t=new Error(e);throw delete t.stack,t}function Pn(e){return""===(e=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(e).trim())?void 0:e}function Dn(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const Tn=e=>String.fromCharCode.apply(null,e),xn="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0;function Rn(e){return xn?xn.decode(e):vn?Buffer.from(e).toString("utf8"):decodeURIComponent(escape(Tn(e)))}class En{static from(e,t){return e instanceof this&&e.le===t?e:new En(e,void 0,void 0,t)}constructor(e,t=0,n,a){if("boolean"==typeof a&&(this.le=a),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===n&&(n=e.byteLength-t);let a=new DataView(e,t,n);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof En){void 0===n&&(n=e.byteLength-t),(t+=e.byteOffset)+n>e.byteOffset+e.byteLength&&An("Creating view outside of available memory in ArrayBuffer");let a=new DataView(e.buffer,t,n);this._swapDataView(a)}else if("number"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else An("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,n=En){return e instanceof DataView||e instanceof En?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||An("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new n(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new En(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return Rn(this.getUint8Array(e,t))}getLatin1String(e=0,t=this.byteLength){let n=this.getUint8Array(e,t);return Tn(n)}getUnicodeString(e=0,t=this.byteLength){const n=[];for(let a=0;a<t&&e+a<this.byteLength;a+=2)n.push(this.getUint16(e+a));return Tn(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,n){switch(t){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,t,n){switch(t){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function Ln(e,t){An(`${e} '${t}' was not loaded, try using full build of exifr.`)}class On extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||Ln(this.kind,e),t&&(e in t||An(`Unknown ${this.kind} '${e}'.`),t[e].enabled||Ln(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var Mn=new On("file parser"),Bn=new On("segment parser"),Fn=new On("file reader");function Un(e,t){return(n=e).startsWith("data:")||n.length>1e4?_n(e,t,"base64"):fn&&e.includes("://")?Nn(e,t,"url",Gn):fn?_n(e,t,"fs"):dn?Nn(e,t,"url",Gn):void An("Invalid input argument");var n}async function Nn(e,t,n,a){return Fn.has(n)?_n(e,t,n):a?async function(e,t){let n=await t(e);return new En(n)}(e,a):void An(`Parser ${n} is not loaded`)}async function _n(e,t,n){let a=new(Fn.get(n))(e,t);return await a.read(),a}const Gn=e=>Sn(e).then(e=>e.arrayBuffer()),jn=e=>new Promise((t,n)=>{let a=new FileReader;a.onloadend=()=>t(a.result||new ArrayBuffer),a.onerror=n,a.readAsArrayBuffer(e)});class Vn extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function zn(e,t,n){let a=new Vn;for(let[i,s]of n)a.set(i,s);if(Array.isArray(t))for(let i of t)e.set(i,a);else e.set(t,a);return a}function Hn(e,t,n){let a,i=e.get(t);for(a of n)i.set(a[0],a[1])}const qn=new Map,Wn=new Map,Jn=new Map,Zn=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Kn=["jfif","xmp","icc","iptc","ihdr"],$n=["tiff",...Kn],Xn=["ifd0","ifd1","exif","gps","interop"],Yn=[...$n,...Xn],Qn=["makerNote","userComment"],ea=["translateKeys","translateValues","reviveValues","multiSegment"],ta=[...ea,"sanitize","mergeOutput","silentErrors"];class na{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class aa extends na{get needed(){return this.enabled||this.deps.size>0}constructor(e,t,n,a){if(super(),wn(this,"enabled",!1),wn(this,"skip",new Set),wn(this,"pick",new Set),wn(this,"deps",new Set),wn(this,"translateKeys",!1),wn(this,"translateValues",!1),wn(this,"reviveValues",!1),this.key=e,this.enabled=t,this.parse=this.enabled,this.applyInheritables(a),this.canBeFiltered=Xn.includes(e),this.canBeFiltered&&(this.dict=qn.get(e)),void 0!==n)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if("object"==typeof n){if(this.enabled=!0,this.parse=!1!==n.parse,this.canBeFiltered){let{pick:e,skip:t}=n;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(n)}else!0===n||!1===n?this.parse=this.enabled=n:An(`Invalid options argument: ${n}`)}applyInheritables(e){let t,n;for(t of ea)n=e[t],void 0!==n&&(this[t]=n)}translateTagSet(e,t){if(this.dict){let n,a,{tagKeys:i,tagValues:s}=this.dict;for(n of e)"string"==typeof n?(a=s.indexOf(n),-1===a&&(a=i.indexOf(Number(n))),-1!==a&&t.add(Number(i[a]))):t.add(n)}else for(let n of e)t.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,ca(this.pick,this.deps)):this.enabled&&this.pick.size>0&&ca(this.pick,this.deps)}}var ia={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},sa=new Map;class ra extends na{static useCached(e){let t=sa.get(e);return void 0!==t||(t=new this(e),sa.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):"object"==typeof e?this.setupFromObject(e):An(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=dn?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of Zn)this[e]=ia[e];for(e of ta)this[e]=ia[e];for(e of Qn)this[e]=ia[e];for(e of Yn)this[e]=new aa(e,ia[e],void 0,this)}setupFromTrue(){let e;for(e of Zn)this[e]=ia[e];for(e of ta)this[e]=ia[e];for(e of Qn)this[e]=!0;for(e of Yn)this[e]=new aa(e,!0,void 0,this)}setupFromArray(e){let t;for(t of Zn)this[t]=ia[t];for(t of ta)this[t]=ia[t];for(t of Qn)this[t]=ia[t];for(t of Yn)this[t]=new aa(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,Xn)}setupFromObject(e){let t;for(t of(Xn.ifd0=Xn.ifd0||Xn.image,Xn.ifd1=Xn.ifd1||Xn.thumbnail,Object.assign(this,e),Zn))this[t]=la(e[t],ia[t]);for(t of ta)this[t]=la(e[t],ia[t]);for(t of Qn)this[t]=la(e[t],ia[t]);for(t of $n)this[t]=new aa(t,ia[t],e[t],this);for(t of Xn)this[t]=new aa(t,ia[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,Xn,Yn),!0===e.tiff?this.batchEnableWithBool(Xn,!0):!1===e.tiff?this.batchEnableWithUserValue(Xn,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Xn):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Xn)}batchEnableWithBool(e,t){for(let n of e)this[n].enabled=t}batchEnableWithUserValue(e,t){for(let n of e){let e=t[n];this[n].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,n,a=n){if(e&&e.length){for(let e of a)this[e].enabled=!1;let t=oa(e,n);for(let[e,n]of t)ca(this[e].pick,n),this[e].enabled=!0}else if(t&&t.length){let e=oa(t,n);for(let[t,n]of e)ca(this[t].skip,n)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:n,iptc:a,icc:i}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),n.enabled||e.skip.add(700),a.enabled||e.skip.add(33723),i.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:n,interop:a}=this;a.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=Xn.some(e=>!0===this[e].enabled)||this.makerNote||this.userComment;for(let i of Xn)this[i].finalizeFilters()}get onlyTiff(){return!Kn.map(e=>this[e].enabled).some(e=>!0===e)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of $n)this[e].enabled&&!Bn.has(e)&&Ln("segment parser",e)}}function oa(e,t){let n,a,i,s,r=[];for(i of t){for(s of(n=qn.get(i),a=[],n))(e.includes(s[0])||e.includes(s[1]))&&a.push(s[0]);a.length&&r.push([i,a])}return r}function la(e,t){return void 0!==e?e:void 0!==t?t:void 0}function ca(e,t){for(let n of t)e.add(n)}wn(ra,"default",ia);class ua{constructor(e){wn(this,"parsers",{}),wn(this,"output",{}),wn(this,"errors",[]),wn(this,"pushToErrors",e=>this.errors.push(e)),this.options=ra.useCached(e)}async read(e){this.file=await function(e,t){return"string"==typeof e?Un(e,t):dn&&!pn&&e instanceof HTMLImageElement?Un(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new En(e):dn&&e instanceof Blob?Nn(e,t,"blob",jn):void An("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[n,a]of Mn)if(a.canHandle(e,t))return this.fileParser=new a(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),An("Unknown file format")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),Cn(e)}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map(async t=>{let n=await t.parse();t.assignToOutput(e,n)});this.options.silentErrors&&(t=t.map(e=>e.catch(this.pushToErrors))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,n=Bn.get("tiff",e);var a;if(t.tiff?a={start:0,type:"tiff"}:t.jpeg&&(a=await this.fileParser.getOrFindSegment("tiff")),void 0===a)return;let i=await this.fileParser.ensureSegmentChunk(a),s=this.parsers.tiff=new n(i,e,t),r=await s.extractThumbnail();return t.close&&t.close(),r}}async function ha(e,t){let n=new ua(t);return await n.read(e),n.parse()}var da=Object.freeze({__proto__:null,parse:ha,Exifr:ua,fileParsers:Mn,segmentParsers:Bn,fileReaders:Fn,tagKeys:qn,tagValues:Wn,tagRevivers:Jn,createDictionary:zn,extendDictionary:Hn,fetchUrlAsArrayBuffer:Gn,readBlobAsArrayBuffer:jn,chunkedProps:Zn,otherSegments:Kn,segments:$n,tiffBlocks:Xn,segmentsAndBlocks:Yn,tiffExtractables:Qn,inheritables:ea,allFormatters:ta,Options:ra});class pa{constructor(e,t,n){wn(this,"errors",[]),wn(this,"ensureSegmentChunk",async e=>{let t=e.start,n=e.size||65536;if(this.file.chunked)if(this.file.available(t,n))e.chunk=this.file.subarray(t,n);else try{e.chunk=await this.file.readChunk(t,n)}catch(a){An(`Couldn't read segment: ${JSON.stringify(e)}. ${a.message}`)}else this.file.byteLength>t+n?e.chunk=this.file.subarray(t,n):void 0===e.size?e.chunk=this.file.subarray(t):An("Segment unreachable: "+JSON.stringify(e));return e.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=n}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let n=new(Bn.get(e))(t,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let t of e){let{type:e,chunk:n}=t,a=this.options[e];if(a&&a.enabled){let t=this.parsers[e];t&&t.append||t||this.createParser(e,n)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}class fa{static findPosition(e,t){let n=e.getUint16(t+2)+2,a="function"==typeof this.headerLength?this.headerLength(e,t,n):this.headerLength,i=t+a,s=n-a;return{offset:t,length:n,headerLength:a,start:i,size:s,end:i+s}}static parse(e,t={}){return new this(e,new ra({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof En?e:new En(e)}constructor(e,t={},n){wn(this,"errors",[]),wn(this,"raw",new Map),wn(this,"handleError",e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)}),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let n=Jn.get(t),a=Wn.get(t),i=qn.get(t),s=this.options[t],r=s.reviveValues&&!!n,o=s.translateValues&&!!a,l=s.translateKeys&&!!i,c={};for(let[u,h]of e)r&&n.has(u)?h=n.get(u)(h):o&&a.has(u)&&(h=this.translateValue(h,a.get(u))),l&&i.has(u)&&(u=i.get(u)||u),c[u]=h;return c}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[t]?Object.assign(e[t],n):e[t]=n}}function ga(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function ma(e){return e>=224&&e<=239}function va(e,t,n){for(let[a,i]of Bn)if(i.canHandle(e,t,n))return a}wn(fa,"headerLength",4),wn(fa,"type",void 0),wn(fa,"multiSegment",!1),wn(fa,"canHandle",()=>!1);class ba extends pa{constructor(...e){super(...e),wn(this,"appSegments",[]),wn(this,"jpegSegments",[]),wn(this,"unknownSegments",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(Bn.keyList())):(e=void 0===e?Bn.keyList().filter(e=>this.options[e].enabled):e.filter(e=>this.options[e].enabled&&Bn.has(e)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:n,findAll:a,wanted:i,remaining:s}=this;if(!a&&this.file.chunked&&(a=Array.from(i).some(e=>{let t=Bn.get(e),n=this.options[e];return t.multiSegment&&n.multiSegment}),a&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let t=!1;for(;s.size>0&&!t&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:a}=n,i=this.appSegments.some(e=>!this.file.available(e.offset||e.start,e.length||e.size));if(t=e>a&&!i?!(await n.readNextChunk(e)):!(await n.readNextChunk(a)),void 0===(e=this.findAppSegmentsInRange(e,n.byteLength)))return}}}findAppSegmentsInRange(e,t){t-=2;let n,a,i,s,r,o,{file:l,findAll:c,wanted:u,remaining:h,options:d}=this;for(;e<t;e++)if(255===l.getUint8(e))if(n=l.getUint8(e+1),ma(n)){if(a=l.getUint16(e+2),i=va(l,e,a),i&&u.has(i)&&(s=Bn.get(i),r=s.findPosition(l,e),o=d[i],r.type=i,this.appSegments.push(r),!c&&(s.multiSegment&&o.multiSegment?(this.unfinishedMultiSegment=r.chunkNumber<r.chunkCount,this.unfinishedMultiSegment||h.delete(i)):h.delete(i),0===h.size)))break;d.recordUnknownSegments&&(r=fa.findPosition(l,e),r.marker=n,this.unknownSegments.push(r)),e+=a+1}else if(ga(n)){if(a=l.getUint16(e+2),218===n&&!1!==d.stopAfterSos)return;d.recordJpegSegments&&this.jpegSegments.push({offset:e,length:a,marker:n}),e+=a+1}return e}mergeMultiSegments(){if(!this.appSegments.some(e=>e.multiSegment))return;let e=function(e){let t,n,a,i=new Map;for(let s=0;s<e.length;s++)t=e[s],n=t.type,i.has(n)?a=i.get(n):i.set(n,a=[]),a.push(t);return Array.from(i)}(this.appSegments);this.mergedAppSegments=e.map(([e,t])=>{let n=Bn.get(e,this.options);return n.handleMultiSegments?{type:e,chunk:n.handleMultiSegments(t)}:t[0]})}getSegment(e){return this.appSegments.find(t=>t.type===e)}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}wn(ba,"type","jpeg"),Mn.set("jpeg",ba);const ya=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class Sa extends fa{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,n=new Map){let{pick:a,skip:i}=this.options[t];a=new Set(a);let s=a.size>0,r=0===i.size,o=this.chunk.getUint16(e);e+=2;for(let l=0;l<o;l++){let o=this.chunk.getUint16(e);if(s){if(a.has(o)&&(n.set(o,this.parseTag(e,o,t)),a.delete(o),0===a.size))break}else!r&&i.has(o)||n.set(o,this.parseTag(e,o,t));e+=12}return n}parseTag(e,t,n){let{chunk:a}=this,i=a.getUint16(e+2),s=a.getUint32(e+4),r=ya[i];if(r*s<=4?e+=8:e=a.getUint32(e+8),(i<1||i>13)&&An(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${t.toString(16)}, type: ${i}, offset ${e}`),e>a.byteLength&&An(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${t.toString(16)}, type: ${i}, offset ${e} is outside of chunk size ${a.byteLength}`),1===i)return a.getUint8Array(e,s);if(2===i)return Pn(a.getString(e,s));if(7===i)return a.getUint8Array(e,s);if(1===s)return this.parseTagValue(i,e);{let t=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(i))(s),n=r;for(let a=0;a<s;a++)t[a]=this.parseTagValue(i,e),e+=n;return t}}parseTagValue(e,t){let{chunk:n}=this;switch(e){case 1:return n.getUint8(t);case 3:return n.getUint16(t);case 4:case 13:return n.getUint32(t);case 5:return n.getUint32(t)/n.getUint32(t+4);case 6:return n.getInt8(t);case 8:return n.getInt16(t);case 9:return n.getInt32(t);case 10:return n.getInt32(t)/n.getInt32(t+4);case 11:return n.getFloat(t);case 12:return n.getDouble(t);default:An(`Invalid tiff type ${e}`)}}}class wa extends Sa{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let n=new Map;return this[t]=n,this.parseTags(e,t,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&An("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&An(`IFD0 offset points to outside of file.\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,Dn(this.options));let t=this.parseBlock(this.ifd0Offset,"ifd0");return 0!==t.size?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Dn(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let n=e.get(t);n&&1===n.length&&e.set(t,n[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",Ca(...e.get(2),e.get(1))),e.set("longitude",Ca(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,n,a={};for(t of Xn)if(e=this[t],!In(e))if(n=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if("ifd1"===t)continue;Object.assign(a,n)}else a[t]=n;return this.makerNote&&(a.makerNote=this.makerNote),this.userComment&&(a.userComment=this.userComment),a}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[n,a]of Object.entries(t))this.assignObjectToOutput(e,n,a)}}function Ca(e,t,n,a){var i=e+t/60+n/3600;return"S"!==a&&"W"!==a||(i*=-1),i}wn(wa,"type","tiff"),wn(wa,"headerLength",10),Bn.set("tiff",wa);var ka=Object.freeze({__proto__:null,default:da,Exifr:ua,fileParsers:Mn,segmentParsers:Bn,fileReaders:Fn,tagKeys:qn,tagValues:Wn,tagRevivers:Jn,createDictionary:zn,extendDictionary:Hn,fetchUrlAsArrayBuffer:Gn,readBlobAsArrayBuffer:jn,chunkedProps:Zn,otherSegments:Kn,segments:$n,tiffBlocks:Xn,segmentsAndBlocks:Yn,tiffExtractables:Qn,inheritables:ea,allFormatters:ta,Options:ra,parse:ha});const Ia={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},Aa=Object.assign({},Ia,{firstChunkSize:4e4,gps:[1,2,3,4]});async function Pa(e){let t=new ua(Aa);await t.read(e);let n=await t.parse();if(n&&n.gps){let{latitude:e,longitude:t}=n.gps;return{latitude:e,longitude:t}}}const Da=Object.assign({},Ia,{tiff:!1,ifd1:!0,mergeOutput:!1});async function Ta(e){let t=new ua(Da);await t.read(e);let n=await t.extractThumbnail();return n&&vn?gn.from(n):n}async function xa(e){let t=await this.thumbnail(e);if(void 0!==t){let e=new Blob([t]);return URL.createObjectURL(e)}}const Ra=Object.assign({},Ia,{firstChunkSize:4e4,ifd0:[274]});async function Ea(e){let t=new ua(Ra);await t.read(e);let n=await t.parse();if(n&&n.ifd0)return n.ifd0[274]}const La=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Oa=!0,Ma=!0;if("object"==typeof navigator){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,e,n]=t,a=Number(e)+.1*Number(n);Oa=a<13.4,Ma=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);Oa=Ma=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);Oa=Ma=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);Oa=Ma=Number(t)<77}}async function Ba(e){let t=await Ea(e);return Object.assign({canvas:Oa,css:Ma},La[t])}class Fa extends En{constructor(...e){super(...e),wn(this,"ranges",new Ua),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,n){if(0===e&&0===this.byteLength&&n){let e=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(e)}else{let n=e+t;if(n>this.byteLength){let{dataView:e}=this._extend(n);this._swapDataView(e)}}}_extend(e){let t;t=vn?gn.allocUnsafe(e):new Uint8Array(e);let n=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:n}}subarray(e,t,n=!1){return t=t||this._lengthToEnd(e),n&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,n=!1){n&&this._tryExtend(t,e.byteLength,e);let a=super.set(e,t);return this.ranges.add(t,a.byteLength),a}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class Ua{constructor(){wn(this,"list",[])}get length(){return this.list.length}add(e,t,n=0){let a=e+t,i=this.list.filter(t=>Na(e,t.offset,a)||Na(e,t.end,a));if(i.length>0){e=Math.min(e,...i.map(e=>e.offset)),a=Math.max(a,...i.map(e=>e.end)),t=a-e;let n=i.shift();n.offset=e,n.length=t,n.end=a,this.list=this.list.filter(e=>!i.includes(e))}else this.list.push({offset:e,length:t,end:a})}available(e,t){let n=e+t;return this.list.some(t=>t.offset<=e&&n<=t.end)}}function Na(e,t,n){return e<=t&&t<=n}class _a extends Fa{constructor(e,t){super(0),wn(this,"chunksRead",0),this.input=e,this.options=t}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,n=await this.readChunk(e,t);return!!n&&n.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}Fn.set("blob",class extends _a{async readWhole(){this.chunked=!1;let e=await jn(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let n=t?e+t:void 0,a=this.input.slice(e,n),i=await jn(a);return this.set(i,e,!0)}});var Ga=Object.freeze({__proto__:null,default:ka,Exifr:ua,fileParsers:Mn,segmentParsers:Bn,fileReaders:Fn,tagKeys:qn,tagValues:Wn,tagRevivers:Jn,createDictionary:zn,extendDictionary:Hn,fetchUrlAsArrayBuffer:Gn,readBlobAsArrayBuffer:jn,chunkedProps:Zn,otherSegments:Kn,segments:$n,tiffBlocks:Xn,segmentsAndBlocks:Yn,tiffExtractables:Qn,inheritables:ea,allFormatters:ta,Options:ra,parse:ha,gpsOnlyOptions:Aa,gps:Pa,thumbnailOnlyOptions:Da,thumbnail:Ta,thumbnailUrl:xa,orientationOnlyOptions:Ra,orientation:Ea,rotations:La,get rotateCanvas(){return Oa},get rotateCss(){return Ma},rotation:Ba});Fn.set("url",class extends _a{async readWhole(){this.chunked=!1;let e=await Gn(this.input);e instanceof ArrayBuffer?this._swapArrayBuffer(e):e instanceof Uint8Array&&this._swapBuffer(e)}async _readChunk(e,t){let n=t?e+t-1:void 0,a=this.options.httpHeaders||{};(e||n)&&(a.range=`bytes=${[e,n].join("-")}`);let i=await Sn(this.input,{headers:a}),s=await i.arrayBuffer(),r=s.byteLength;if(416!==i.status)return r!==t&&(this.size=e+r),this.set(s,e,!0)}}),En.prototype.getUint64=function(e){let t=this.getUint32(e),n=this.getUint32(e+4);return t<1048575?t<<32|n:void 0!==typeof mn?mn(t)<<mn(32)|mn(n):void An("Trying to read 64b value but JS can only handle 53b numbers.")};class ja extends pa{parseBoxes(e=0){let t=[];for(;e<this.file.byteLength-4;){let n=this.parseBoxHead(e);if(t.push(n),0===n.length)break;e+=n.length}return t}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,t){return void 0===e.boxes&&this.parseSubBoxes(e),e.boxes.find(e=>e.kind===t)}parseBoxHead(e){let t=this.file.getUint32(e),n=this.file.getString(e+4,4),a=e+8;return 1===t&&(t=this.file.getUint64(e+8),a+=8),{offset:e,length:t,kind:n,start:a}}parseBoxFullHead(e){if(void 0!==e.version)return;let t=this.file.getUint32(e.start);e.version=t>>24,e.start+=4}}class Va extends ja{static canHandle(e,t){if(0!==t)return!1;let n=e.getUint16(2);if(n>50)return!1;let a=16,i=[];for(;a<n;)i.push(e.getString(a,4)),a+=4;return i.includes(this.type)}async parse(){let e=this.file.getUint32(0),t=this.parseBoxHead(e);for(;"meta"!==t.kind;)e+=t.length,await this.file.ensureChunk(e,16),t=this.parseBoxHead(e);await this.file.ensureChunk(t.offset,t.length),this.parseBoxFullHead(t),this.parseSubBoxes(t),this.options.icc.enabled&&await this.findIcc(t),this.options.tiff.enabled&&await this.findExif(t)}async registerSegment(e,t,n){await this.file.ensureChunk(t,n);let a=this.file.subarray(t,n);this.createParser(e,a)}async findIcc(e){let t=this.findBox(e,"iprp");if(void 0===t)return;let n=this.findBox(t,"ipco");if(void 0===n)return;let a=this.findBox(n,"colr");void 0!==a&&await this.registerSegment("icc",a.offset+12,a.length)}async findExif(e){let t=this.findBox(e,"iinf");if(void 0===t)return;let n=this.findBox(e,"iloc");if(void 0===n)return;let a=this.findExifLocIdInIinf(t),i=this.findExtentInIloc(n,a);if(void 0===i)return;let[s,r]=i;await this.file.ensureChunk(s,r);let o=4+this.file.getUint32(s);s+=o,r-=o,await this.registerSegment("tiff",s,r)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let t,n,a,i,s=e.start,r=this.file.getUint16(s);for(s+=2;r--;){if(t=this.parseBoxHead(s),this.parseBoxFullHead(t),n=t.start,t.version>=2&&(a=3===t.version?4:2,i=this.file.getString(n+a+2,4),"Exif"===i))return this.file.getUintBytes(n,a);s+=t.length}}get8bits(e){let t=this.file.getUint8(e);return[t>>4,15&t]}findExtentInIloc(e,t){this.parseBoxFullHead(e);let n=e.start,[a,i]=this.get8bits(n++),[s,r]=this.get8bits(n++),o=2===e.version?4:2,l=1===e.version||2===e.version?2:0,c=r+a+i,u=2===e.version?4:2,h=this.file.getUintBytes(n,u);for(n+=u;h--;){let e=this.file.getUintBytes(n,o);n+=o+l+2+s;let u=this.file.getUint16(n);if(n+=2,e===t)return[this.file.getUintBytes(n+r,a),this.file.getUintBytes(n+r+a,i)];n+=u*c}}}class za extends Va{}wn(za,"type","heic");class Ha extends Va{}wn(Ha,"type","avif"),Mn.set("heic",za),Mn.set("avif",Ha),zn(qn,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),zn(qn,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),zn(qn,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),zn(Wn,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let qa=zn(Wn,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const Wa={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};qa.set(37392,Wa),qa.set(41488,Wa);const Ja={0:"Normal",1:"Low",2:"High"};function Za(e){return"object"==typeof e&&void 0!==e.length?e[0]:e}function Ka(e){let t=Array.from(e).slice(1);return t[1]>15&&(t=t.map(e=>String.fromCharCode(e))),"0"!==t[2]&&0!==t[2]||t.pop(),t.join(".")}function $a(e){if("string"==typeof e){var[t,n,a,i,s,r]=e.trim().split(/[-: ]/g).map(Number),o=new Date(t,n-1,a);return Number.isNaN(i)||Number.isNaN(s)||Number.isNaN(r)||(o.setHours(i),o.setMinutes(s),o.setSeconds(r)),Number.isNaN(+o)?e:o}}function Xa(e){if("string"==typeof e)return e;let t=[];if(0===e[1]&&0===e[e.length-1])for(let n=0;n<e.length;n+=2)t.push(Ya(e[n+1],e[n]));else for(let n=0;n<e.length;n+=2)t.push(Ya(e[n],e[n+1]));return Pn(String.fromCodePoint(...t))}function Ya(e,t){return e<<8|t}qa.set(41992,Ja),qa.set(41993,Ja),qa.set(41994,Ja),zn(Jn,["ifd0","ifd1"],[[50827,function(e){return"string"!=typeof e?Rn(e):e}],[306,$a],[40091,Xa],[40092,Xa],[40093,Xa],[40094,Xa],[40095,Xa]]),zn(Jn,"exif",[[40960,Ka],[36864,Ka],[36867,$a],[36868,$a],[40962,Za],[40963,Za]]),zn(Jn,"gps",[[0,e=>Array.from(e).join(".")],[7,e=>Array.from(e).join(":")]]);class Qa extends fa{static canHandle(e,t){return 225===e.getUint8(t+1)&&1752462448===e.getUint32(t+4)&&"http://ns.adobe.com/"===e.getString(t+4,20)}static headerLength(e,t){return"http://ns.adobe.com/xmp/extension/"===e.getString(t+4,34)?79:33}static findPosition(e,t){let n=super.findPosition(e,t);return n.multiSegment=n.extended=79===n.headerLength,n.multiSegment?(n.chunkCount=e.getUint8(t+72),n.chunkNumber=e.getUint8(t+76),0!==e.getUint8(t+77)&&n.chunkNumber++):(n.chunkCount=1/0,n.chunkNumber=-1),n}static handleMultiSegments(e){return e.map(e=>e.chunk.getString()).join("")}normalizeInput(e){return"string"==typeof e?e:En.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=function(e){let t={},n={};for(let a of li)t[a]=[],n[a]=0;return e.replace(ci,(e,a,i)=>{if("<"===a){let a=++n[i];return t[i].push(a),`${e}#${a}`}return`${e}#${t[i].pop()}`})}(e);let t=ti.findAll(e,"rdf","Description");0===t.length&&t.push(new ti("rdf","Description",void 0,e));let n,a={};for(let i of t)for(let e of i.properties)n=si(e.ns,a),ni(e,n);return function(e){let t;for(let n in e)t=e[n]=Cn(e[n]),void 0===t&&delete e[n];return Cn(e)}(a)}assignToOutput(e,t){if(this.localOptions.parse)for(let[n,a]of Object.entries(t))switch(n){case"tiff":this.assignObjectToOutput(e,"ifd0",a);break;case"exif":this.assignObjectToOutput(e,"exif",a);break;case"xmlns":break;default:this.assignObjectToOutput(e,n,a)}else e.xmp=t}}wn(Qa,"type","xmp"),wn(Qa,"multiSegment",!0),Bn.set("xmp",Qa);class ei{static findAll(e){return ri(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(ei.unpackMatch)}static unpackMatch(e){let t=e[1],n=e[2],a=e[3].slice(1,-1);return a=oi(a),new ei(t,n,a)}constructor(e,t,n){this.ns=e,this.name=t,this.value=n}serialize(){return this.value}}class ti{static findAll(e,t,n){if(void 0!==t||void 0!==n){t=t||"[\\w\\d-]+",n=n||"[\\w\\d-]+";var a=new RegExp(`<(${t}):(${n})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else a=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return ri(e,a).map(ti.unpackMatch)}static unpackMatch(e){let t=e[1],n=e[2],a=e[4],i=e[8];return new ti(t,n,a,i)}constructor(e,t,n,a){this.ns=e,this.name=t,this.attrString=n,this.innerXml=a,this.attrs=ei.findAll(n),this.children=ti.findAll(a),this.value=0===this.children.length?oi(a):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return void 0!==this.value&&0===this.attrs.length&&0===this.children.length}get isListContainer(){return 1===this.children.length&&this.children[0].isList}get isList(){let{ns:e,name:t}=this;return"rdf"===e&&("Seq"===t||"Bag"===t||"Alt"===t)}get isListItem(){return"rdf"===this.ns&&"li"===this.name}serialize(){if(0===this.properties.length&&void 0===this.value)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return ii(this.children.map(ai));if(this.isListItem&&1===this.children.length&&0===this.attrs.length)return this.children[0].serialize();let e={};for(let t of this.properties)ni(t,e);return void 0!==this.value&&(e.value=this.value),Cn(e)}}function ni(e,t){let n=e.serialize();void 0!==n&&(t[e.name]=n)}var ai=e=>e.serialize(),ii=e=>1===e.length?e[0]:e,si=(e,t)=>t[e]?t[e]:t[e]={};function ri(e,t){let n,a=[];if(!e)return a;for(;null!==(n=t.exec(e));)a.push(n);return a}function oi(e){if(null==(t=e)||"null"===t||"undefined"===t||""===t||""===t.trim())return;var t;let n=Number(e);if(!Number.isNaN(n))return n;let a=e.toLowerCase();return"true"===a||"false"!==a&&e.trim()}const li=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],ci=new RegExp(`(<|\\/)(${li.join("|")})`,"g");var ui=Object.freeze({__proto__:null,default:Ga,Exifr:ua,fileParsers:Mn,segmentParsers:Bn,fileReaders:Fn,tagKeys:qn,tagValues:Wn,tagRevivers:Jn,createDictionary:zn,extendDictionary:Hn,fetchUrlAsArrayBuffer:Gn,readBlobAsArrayBuffer:jn,chunkedProps:Zn,otherSegments:Kn,segments:$n,tiffBlocks:Xn,segmentsAndBlocks:Yn,tiffExtractables:Qn,inheritables:ea,allFormatters:ta,Options:ra,parse:ha,gpsOnlyOptions:Aa,gps:Pa,thumbnailOnlyOptions:Da,thumbnail:Ta,thumbnailUrl:xa,orientationOnlyOptions:Ra,orientation:Ea,rotations:La,get rotateCanvas(){return Oa},get rotateCss(){return Ma},rotation:Ba});let hi=yn("fs",e=>e.promises);Fn.set("fs",class extends _a{async readWhole(){this.chunked=!1,this.fs=await hi;let e=await this.fs.readFile(this.input);this._swapBuffer(e)}async readChunked(){this.chunked=!0,this.fs=await hi,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){void 0===this.fh&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(e,t){void 0===this.fh&&await this.open(),e+t>this.size&&(t=this.size-e);var n=this.subarray(e,t,!0);return await this.fh.read(n.dataView,0,t,e),n}async close(){if(this.fh){let e=this.fh;this.fh=void 0,await e.close()}}}),Fn.set("base64",class extends _a{constructor(...e){super(...e),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(e,t){let n,a,i=this.input;void 0===e?(e=0,n=0,a=0):(n=4*Math.floor(e/3),a=e-n/4*3),void 0===t&&(t=this.size);let s=e+t,r=n+4*Math.ceil(s/3);i=i.slice(n,r);let o=Math.min(t,this.size-e);if(vn){let t=gn.from(i,"base64").slice(a,a+o);return this.set(t,e,!0)}{let t=this.subarray(e,o,!0),n=atob(i),s=t.toUint8();for(let e=0;e<o;e++)s[e]=n.charCodeAt(a+e);return t}}});class di extends pa{static canHandle(e,t){return 18761===t||19789===t}extendOptions(e){let{ifd0:t,xmp:n,iptc:a,icc:i}=e;n.enabled&&t.deps.add(700),a.enabled&&t.deps.add(33723),i.enabled&&t.deps.add(34675),t.finalizeFilters()}async parse(){let{tiff:e,xmp:t,iptc:n,icc:a}=this.options;if(e.enabled||t.enabled||n.enabled||a.enabled){let e=Math.max(Dn(this.options),this.options.chunkSize);await this.file.ensureChunk(0,e),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let t=this.parsers.tiff[e];this.injectSegment(e,t)}}}wn(di,"type","tiff"),Mn.set("tiff",di);let pi=yn("zlib");const fi=["ihdr","iccp","text","itxt","exif"];class gi extends pa{constructor(...e){super(...e),wn(this,"catchError",e=>this.errors.push(e)),wn(this,"metaChunks",[]),wn(this,"unknownChunks",[])}static canHandle(e,t){return 35152===t&&2303741511===e.getUint32(0)&&218765834===e.getUint32(4)}async parse(){let{file:e}=this;await this.findPngChunksInRange(8,e.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(e,t){let{file:n}=this;for(;e<t;){let t=n.getUint32(e),a=n.getUint32(e+4),i=n.getString(e+4,4).toLowerCase(),s=t+4+4+4,r={type:i,offset:e,length:s,start:e+4+4,size:t,marker:a};fi.includes(i)?this.metaChunks.push(r):this.unknownChunks.push(r),e+=s}}parseTextChunks(){let e=this.metaChunks.filter(e=>"text"===e.type);for(let t of e){let[e,n]=this.file.getString(t.start,t.size).split("\0");this.injectKeyValToIhdr(e,n)}}injectKeyValToIhdr(e,t){let n=this.parsers.ihdr;n&&n.raw.set(e,t)}findIhdr(){let e=this.metaChunks.find(e=>"ihdr"===e.type);e&&!1!==this.options.ihdr.enabled&&this.createParser("ihdr",e.chunk)}async findExif(){let e=this.metaChunks.find(e=>"exif"===e.type);e&&this.injectSegment("tiff",e.chunk)}async findXmp(){let e=this.metaChunks.filter(e=>"itxt"===e.type);for(let t of e)"XML:com.adobe.xmp"===t.chunk.getString(0,17)&&this.injectSegment("xmp",t.chunk)}async findIcc(){let e=this.metaChunks.find(e=>"iccp"===e.type);if(!e)return;let{chunk:t}=e,n=t.getUint8Array(0,81),a=0;for(;a<80&&0!==n[a];)a++;let i=a+2,s=t.getString(0,a);if(this.injectKeyValToIhdr("ProfileName",s),fn){let e=await pi,n=t.getUint8Array(i);n=e.inflateSync(n),this.injectSegment("icc",n)}}}wn(gi,"type","png"),Mn.set("png",gi),zn(qn,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),Hn(qn,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let mi=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];Hn(qn,"ifd0",mi),Hn(qn,"exif",mi),zn(Wn,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class vi extends fa{static canHandle(e,t){return 224===e.getUint8(t+1)&&1246120262===e.getUint32(t+4)&&0===e.getUint8(t+8)}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}wn(vi,"type","jfif"),wn(vi,"headerLength",9),Bn.set("jfif",vi),zn(qn,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class bi extends fa{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}wn(bi,"type","ihdr"),Bn.set("ihdr",bi),zn(qn,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),zn(Wn,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class yi extends fa{static canHandle(e,t){return 226===e.getUint8(t+1)&&1229144927===e.getUint32(t+4)}static findPosition(e,t){let n=super.findPosition(e,t);return n.chunkNumber=e.getUint8(t+16),n.chunkCount=e.getUint8(t+17),n.multiSegment=n.chunkCount>1,n}static handleMultiSegments(e){return function(e){let t=function(e){let t=e[0].constructor,n=0;for(let s of e)n+=s.length;let a=new t(n),i=0;for(let s of e)a.set(s,i),i+=s.length;return a}(e.map(e=>e.chunk.toUint8()));return new En(t)}(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&An("ICC header is too short");for(let[t,n]of Object.entries(Si)){t=parseInt(t,10);let a=n(this.chunk,t);"\0\0\0\0"!==a&&e.set(t,a)}}parseTags(){let e,t,n,a,i,{raw:s}=this,r=this.chunk.getUint32(128),o=132,l=this.chunk.byteLength;for(;r--;){if(e=this.chunk.getString(o,4),t=this.chunk.getUint32(o+4),n=this.chunk.getUint32(o+8),a=this.chunk.getString(t,4),t+n>l)return;i=this.parseTag(a,t,n),void 0!==i&&"\0\0\0\0"!==i&&s.set(e,i),o+=12}}parseTag(e,t,n){switch(e){case"desc":return this.parseDesc(t);case"mluc":return this.parseMluc(t);case"text":return this.parseText(t,n);case"sig ":return this.parseSig(t)}if(!(t+n>this.chunk.byteLength))return this.chunk.getUint8Array(t,n)}parseDesc(e){let t=this.chunk.getUint32(e+8)-1;return Pn(this.chunk.getString(e+12,t))}parseText(e,t){return Pn(this.chunk.getString(e+8,t-8))}parseSig(e){return Pn(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:t}=this,n=t.getUint32(e+8),a=t.getUint32(e+12),i=e+16,s=[];for(let r=0;r<n;r++){let n=t.getString(i+0,2),r=t.getString(i+2,2),o=t.getUint32(i+4),l=t.getUint32(i+8)+e,c=Pn(t.getUnicodeString(l,o));s.push({lang:n,country:r,text:c}),i+=a}return 1===n?s[0].text:s}translateValue(e,t){return"string"==typeof e?t[e]||t[e.toLowerCase()]||e:t[e]||e}}wn(yi,"type","icc"),wn(yi,"multiSegment",!0),wn(yi,"headerLength",18);const Si={4:wi,8:function(e,t){return[e.getUint8(t),e.getUint8(t+1)>>4,e.getUint8(t+1)%16].map(e=>e.toString(10)).join(".")},12:wi,16:wi,20:wi,24:function(e,t){const n=e.getUint16(t),a=e.getUint16(t+2)-1,i=e.getUint16(t+4),s=e.getUint16(t+6),r=e.getUint16(t+8),o=e.getUint16(t+10);return new Date(Date.UTC(n,a,i,s,r,o))},36:wi,40:wi,48:wi,52:wi,64:(e,t)=>e.getUint32(t),80:wi};function wi(e,t){return Pn(e.getString(t,4))}Bn.set("icc",yi),zn(qn,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const Ci={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},ki={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};zn(Wn,"icc",[[4,Ci],[12,ki],[40,Object.assign({},Ci,ki)],[48,Ci],[80,Ci],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class Ii extends fa{static canHandle(e,t,n){return 237===e.getUint8(t+1)&&"Photoshop"===e.getString(t+4,9)&&void 0!==this.containsIptc8bim(e,t,n)}static headerLength(e,t,n){let a,i=this.containsIptc8bim(e,t,n);if(void 0!==i)return a=e.getUint8(t+i+7),a%2!=0&&(a+=1),0===a&&(a=4),i+8+a}static containsIptc8bim(e,t,n){for(let a=0;a<n;a++)if(this.isIptcSegmentHead(e,t+a))return a}static isIptcSegmentHead(e,t){return 56===e.getUint8(t)&&943868237===e.getUint32(t)&&1028===e.getUint16(t+4)}parse(){let{raw:e}=this,t=this.chunk.byteLength-1,n=!1;for(let a=0;a<t;a++)if(28===this.chunk.getUint8(a)&&2===this.chunk.getUint8(a+1)){n=!0;let t=this.chunk.getUint16(a+3),i=this.chunk.getUint8(a+2),s=this.chunk.getLatin1String(a+5,t);e.set(i,this.pluralizeValue(e.get(i),s)),a+=4+t}else if(n)break;return this.translate(),this.output}pluralizeValue(e,t){return void 0!==e?e instanceof Array?(e.push(t),e):[e,t]:t}}wn(Ii,"type","iptc"),wn(Ii,"translateValues",!1),wn(Ii,"reviveValues",!1),Bn.set("iptc",Ii),zn(qn,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),zn(Wn,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);const Ai={key:0,class:"loading"},Pi={key:1,class:"error"},Di={key:2,class:"photo-grid","aria-live":"polite"},Ti=["onClick"],xi=["src","data-full"],Ri={key:0,class:"lightbox glass-card",role:"dialog","aria-modal":"true","aria-label":"photo viewer"},Ei={class:"lightbox-header"},Li={class:"lightbox-meta"},Oi={key:0,class:"lb-camera"},Mi={key:1,class:"lb-date"},Bi=["aria-busy"],Fi={key:0,class:"lb-spinner","aria-hidden":"true"},Ui={class:"lightbox-footer"},Ni={class:"lb-tags"},_i={key:0,class:"lb-tag muted"},Gi={class:"lb-actions"},ji=["disabled"],Vi=["disabled"],zi="© CharmingZh",Hi=At({__name:"PhotographySection",setup(e){const t=c(null),n=c([]),a=c(!0),i=c(""),s=c(!1),o=c(0),l=c(null),u=c(!1),p=c(!1),y=c(null),C=e=>{e.preventDefault()},I=e=>{e.preventDefault()};k(()=>{t.value instanceof HTMLElement&&t.value.classList.add("visible"),window.addEventListener("keydown",W,{passive:!1}),(async()=>{try{const e=await fetch("/Photography/manifest.json",{cache:"no-cache"});if(!e.ok)throw new Error("无法加载图片清单");const t=await e.json();n.value=Array.isArray(t)?t.map(e=>{if("string"==typeof e)return{src:e,thumb:e};const t=e.src||e.file||e;return{src:t,thumb:e.thumbnail||e.thumb||e.preview||t,meta:q(e)}}):[]}catch(e){i.value=e&&e.message||"加载图片列表失败"}finally{a.value=!1}})()}),D(()=>{window.removeEventListener("keydown",W)});const A=()=>{s.value=!1,l.value=null,u.value=!1,p.value=!1},P=async()=>{if(!u.value){u.value=!0,o.value=(o.value-1+n.value.length)%n.value.length;try{await B()}finally{u.value=!1}}},M=async()=>{if(!u.value){u.value=!0,o.value=(o.value+1)%n.value.length;try{await B()}finally{u.value=!1}}},B=async()=>{const e=n.value[o.value];if(e&&y.value){p.value=!0,await h();try{const t=await fetch(e.src,{cache:"no-cache"}),n=await t.blob(),[a,i]=await Promise.all([e.meta?Promise.resolve(null):ui.parse(n).catch(()=>null),U(n)]);l.value=e.meta||function(e){if(!e)return null;const t=e.Make||e.make||"",n=e.Model||e.model||"",a=e.ISO||e.Iso||e.iso||"",i=e.FNumber||e.FNum||e.ApertureValue||"",s=e.ExposureTime||e.Exposure||e.ShutterSpeedValue||"",r=e.FocalLength||e.FocalLengthIn35mmFormat||"",o={camera:[t,n].filter(Boolean).join(" "),iso:a?`ISO ${a}`:"",aperture:i?`f/${"number"==typeof i?i.toFixed(1):i}`:"",shutter:s?G(s):"",focal:r?j(r):"",dateISO:e.DateTimeOriginal||e.CreateDate||e.date||""};return o}(a);const s=await N(i);_(y.value,s,{text:zi,opacity:.18})}catch{try{const t=await N(e.src);_(y.value,t,{text:zi,opacity:.18})}catch{i.value="图片加载失败"}}finally{F()}}else p.value=!1},F=()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(()=>{p.value=!1}):p.value=!1},U=e=>new Promise((t,n)=>{const a=new FileReader;a.onload=()=>t(a.result),a.onerror=n,a.readAsDataURL(e)}),N=e=>new Promise((t,n)=>{const a=new Image;a.onload=()=>t(a),a.onerror=n,a.decoding="async",a.src=e});function _(e,t,n){const a=e.getContext("2d"),i=Math.max(320,.96*window.innerWidth),s=Math.max(240,.9*window.innerHeight),r=Math.min(i/t.width,s/t.height,1),o=Math.max(1,Math.round(t.width*r)),l=Math.max(1,Math.round(t.height*r));e.width=o,e.height=l,a.clearRect(0,0,o,l),a.drawImage(t,0,0,o,l);const{text:c="©",opacity:u=.15,font:h="16px Inter, sans-serif",step:d=160}=n||{},p=document.createElement("canvas");p.width=d,p.height=d;const f=p.getContext("2d");f.clearRect(0,0,d,d),f.save(),f.translate(d/2,d/2),f.rotate(-30*Math.PI/180),f.globalAlpha=u,f.fillStyle="#ffffff",f.font=h,f.textAlign="center",f.textBaseline="middle",f.fillText(c,0,0),f.restore();const g=a.createPattern(p,"repeat");a.save(),a.globalCompositeOperation="overlay",a.globalAlpha=1,a.fillStyle=g,a.fillRect(0,0,o,l),a.restore()}function G(e){if("number"==typeof e){if(e>=1)return`${e.toFixed(1)}s`;return`1/${Math.round(1/e)}s`}return String(e)}function j(e){return"number"==typeof e?`${Math.round(e)}mm`:"object"==typeof e&&(null==e?void 0:e.numerator)?`${Math.round(e.numerator/(e.denominator||1))}mm`:String(e)}const V=r(()=>{var e;return(null==(e=l.value)?void 0:e.camera)||""}),z=r(()=>{var e;return function(e){if(!e)return"";try{return new Intl.DateTimeFormat("en-US",{dateStyle:"medium"}).format(new Date(e))}catch{return""}}(null==(e=l.value)?void 0:e.dateISO)}),H=r(()=>l.value?[l.value.iso,l.value.aperture,l.value.shutter,l.value.focal].filter(Boolean):[]);function q(e){return e&&"object"==typeof e?{camera:e.camera||"",iso:e.iso||"",aperture:e.aperture||"",shutter:e.shutter||"",focal:e.focal||"",dateISO:e.dateISO||""}:null}const W=e=>{s.value&&("Escape"===e.key?(e.preventDefault(),A()):"ArrowRight"===e.key?(e.preventDefault(),M()):"ArrowLeft"===e.key&&(e.preventDefault(),P()))};return(e,r)=>(f(),d("section",{id:"photography",ref_key:"sectionRef",ref:t,class:"content-section",onContextmenu:x(C,["prevent"])},[r[3]||(r[3]=g("h2",{class:"section-title"},"Photography",-1)),a.value?(f(),d("div",Ai,"加载中…")):i.value?(f(),d("div",Pi,S(i.value),1)):(f(),d("div",Di,[(f(!0),d(m,null,v(n.value,(e,t)=>(f(),d("article",{key:e.src,class:"photo-card glass-card",role:"group","aria-label":"photo"},[g("button",{class:"photo-thumb no-save",type:"button",onClick:e=>(async e=>{o.value=e,s.value=!0,u.value=!0;try{await h(),await B()}finally{u.value=!1}})(t),onContextmenu:x(C,["prevent"])},[g("img",{class:"thumb-img",src:e.thumb,"data-full":e.src,alt:"photo",loading:"lazy",decoding:"async",fetchpriority:"low",draggable:"false",onDragstart:I},null,40,xi),g("div",{class:"thumb-watermark","aria-hidden":"true"},S(zi))],40,Ti)]))),128))])),(f(),T(O,{to:"body"},[R(L,{name:"lb-backdrop",appear:""},{default:E(()=>[s.value?(f(),d("div",{key:0,class:"lightbox-backdrop",onClick:x(A,["self"]),onContextmenu:r[1]||(r[1]=x(()=>{},["prevent"]))},[R(L,{name:"lb-panel",appear:""},{default:E(()=>[s.value?(f(),d("div",Ri,[g("header",Ei,[g("div",Li,[V.value?(f(),d("span",Oi,S(V.value),1)):w("",!0),z.value?(f(),d("span",Mi,S(z.value),1)):w("",!0)]),g("button",{class:"lb-btn lb-close",onClick:A,"aria-label":"Close"},r[2]||(r[2]=[g("span",{"aria-hidden":"true"},"×",-1)]))]),g("div",{class:"lightbox-body no-save",onContextmenu:r[0]||(r[0]=x(()=>{},["prevent"]))},[g("div",{class:"lb-stage","aria-busy":u.value},[g("canvas",{ref_key:"canvasRef",ref:y,class:b(["lb-canvas",{"is-transitioning":p.value}]),"aria-label":"photo canvas"},null,2),R(L,{name:"lb-spinner",appear:""},{default:E(()=>[u.value?(f(),d("div",Fi)):w("",!0)]),_:1})],8,Bi)],32),g("footer",Ui,[g("div",Ni,[(f(!0),d(m,null,v(H.value,e=>(f(),d("span",{key:e,class:"lb-tag"},S(e),1))),128)),H.value.length||V.value?w("",!0):(f(),d("span",_i,"Metadata unavailable"))]),g("div",Gi,[g("button",{class:"lb-nav",onClick:x(P,["stop"]),"aria-label":"Previous",disabled:u.value}," ‹ ",8,ji),g("button",{class:"lb-nav",onClick:x(M,["stop"]),"aria-label":"Next",disabled:u.value}," › ",8,Vi)])])])):w("",!0)]),_:1})],32)):w("",!0)]),_:1})]))],544))}},[["__scopeId","data-v-c0489d0b"]]),qi={class:"container"},Wi={__name:"PhotographyPage",setup:e=>(e,t)=>(f(),d("div",qi,[R(Hi)]))},Ji={class:"container"},Zi=At({__name:"App",setup(e){const t=c(!1),a=s(qe),i=s(He),r=()=>{t.value=!t.value},o=()=>{t.value=!1},u=e=>{var t;o(),"photography"!==e?"/"!==i.currentRoute.value.path?i.push({path:"/",hash:`#${e}`}):null==(t=document.querySelector(`#${e}`))||t.scrollIntoView({behavior:"smooth"}):i.push("/photography")},h=e=>{document.documentElement.setAttribute("data-theme",e),document.body.setAttribute("data-theme",e)},p=c(document.documentElement.getAttribute("data-theme")||"dark"),v=()=>{const e="dark"===p.value?"light":"dark";p.value=e,h(e)};l("toggleTheme",v),l("currentTheme",p);const b=[];return I(()=>{b.forEach(e=>e()),b.length=0}),k(()=>{h(p.value),document.documentElement.setAttribute("data-glass-mode","classic"),document.documentElement.setAttribute("data-nav-layout","flow");const e=e=>{const t=window.matchMedia("(prefers-reduced-motion: reduce)"),n=window.matchMedia("(pointer: coarse)");if(t.matches||n.matches)return;const a=Array.from(document.querySelectorAll(e)).filter(e=>e instanceof HTMLElement&&"true"!==e.dataset.tiltBound);if(!a.length)return;a.forEach(e=>{e.dataset.tiltBound="true";let t=0,n=e.getBoundingClientRect(),a=0,i=0,s=0,r=0;const o=()=>{n=e.getBoundingClientRect()},l=()=>{a+=.18*(s-a),i+=.18*(r-i);const n=1+.02*Math.min(1,(Math.abs(a)+Math.abs(i))/12);e.style.transform=`perspective(900px) rotateX(${a.toFixed(2)}deg) rotateY(${i.toFixed(2)}deg) scale3d(${n.toFixed(3)}, ${n.toFixed(3)}, ${n.toFixed(3)})`,Math.abs(s-a)>.01||Math.abs(r-i)>.01?t=requestAnimationFrame(l):(t=0,0===s&&0===r&&(e.style.transform=""))},c=()=>{t||(t=requestAnimationFrame(l))},u=()=>{o(),c()},h=e=>{const{left:t,top:a,width:i,height:o}=n;if(!i||!o)return;const l=(e.clientX-t)/i-.5,u=(e.clientY-a)/o-.5;r=6*l*2,s=-6*u*2,c()},d=()=>{s=0,r=0,c()};let p=null;const f=()=>o();"function"==typeof ResizeObserver?(p=new ResizeObserver(o),p.observe(e)):window.addEventListener("resize",f,{passive:!0}),e.addEventListener("pointerenter",u,{passive:!0}),e.addEventListener("pointermove",h,{passive:!0}),e.addEventListener("pointerleave",d,{passive:!0}),e.addEventListener("pointercancel",d,{passive:!0});b.push(()=>{p?p.disconnect():window.removeEventListener("resize",f),e.removeEventListener("pointerenter",u),e.removeEventListener("pointermove",h),e.removeEventListener("pointerleave",d),e.removeEventListener("pointercancel",d),t&&(cancelAnimationFrame(t),t=0),delete e.dataset.tiltBound,e.style.transform=""})})};e(".glass-card"),e(".research-card-scroll");const t=document.getElementById("glass-nav-container");if(t){const e=()=>{var e;const n=null==(e=t.querySelector("input:checked"))?void 0:e.parentNode;n instanceof HTMLElement&&(t.style.setProperty("--slider-width",`${n.offsetWidth}px`),t.style.setProperty("--slider-translate-x",`${n.offsetLeft}px`))},n=()=>{e()};t.addEventListener("change",n),b.push(()=>t.removeEventListener("change",n));(e=>{const t=e.querySelectorAll('input[type="radio"]');let n=null;const a=e.querySelector('input[type="radio"]:checked');a&&(n=a.getAttribute("c-option"),e.setAttribute("c-previous",n)),t.forEach(t=>{t.addEventListener("change",()=>{t.checked&&(e.setAttribute("c-previous",n??""),n=t.getAttribute("c-option"))})})})(t);const a=Array.from(t.querySelectorAll(".glass-nav__input")),s=new Map(a.map(e=>[e.value,e])),r=Array.from(document.querySelectorAll(".content-section")).filter(e=>e instanceof HTMLElement&&s.has(e.id)),o=r.map(e=>e.id);let l="";const c=t=>{if(!t||l===t)return;const n=s.get(t);n&&(l=t,n.checked?e():(n.checked=!0,n.dispatchEvent(new Event("change",{bubbles:!0}))))},u=()=>{if(!r.length)return;const e=(t.offsetHeight||0)+24,n=window.scrollY+Math.max(.3*window.innerHeight,e);let a=r[0];for(const t of r){if(!(n>=t.getBoundingClientRect().top+window.scrollY-e))break;a=t}c(a.id)},h=new Map,d=()=>{if(!h.size)return!1;const[e]=Array.from(h.entries()).sort((e,t)=>t[1]!==e[1]?t[1]-e[1]:o.indexOf(e[0])-o.indexOf(t[0]))[0]||[];return!!e&&(c(e),!0)};let p;"IntersectionObserver"in window&&r.length&&(p=new IntersectionObserver(e=>{e.forEach(e=>{const{id:t}=e.target;t&&(e.isIntersecting?h.set(t,e.intersectionRatio):h.delete(t))}),d()||u()},{root:null,rootMargin:"-45% 0px -45% 0px",threshold:[.1,.25,.5,.75]}),r.forEach(e=>p.observe(e)),b.push(()=>p&&p.disconnect()));const f=()=>{d()||u()},g=()=>{e(),f(),requestAnimationFrame(()=>{e(),f(),requestAnimationFrame(()=>{e(),f()})})};let m=!1;const v=()=>{m||(m=!0,requestAnimationFrame(()=>{f(),m=!1}))};window.addEventListener("scroll",v,{passive:!0}),b.push(()=>window.removeEventListener("scroll",v));const y=()=>{e(),f()};window.addEventListener("resize",y),b.push(()=>window.removeEventListener("resize",y));const S=e=>{var t,n;const a=e.target.closest("label");if(a){const e=document.getElementById(a.getAttribute("for")),s=null==(t=null==e?void 0:e.nextElementSibling)?void 0:t.getAttribute("href");s&&(s.startsWith("#")?"/"!==i.currentRoute.value.path?i.push({path:"/",hash:s}):null==(n=document.querySelector(s))||n.scrollIntoView({behavior:"smooth"}):s.startsWith("/")&&i.push(s))}};t.addEventListener("click",S),b.push(()=>t.removeEventListener("click",S)),g(),document.fonts&&"ready"in document.fonts&&document.fonts.ready.then(g).catch(()=>{}),window.addEventListener("load",g),b.push(()=>window.removeEventListener("load",g))}const n=document.getElementById("mobile-nav-toggle"),a=document.getElementById("mobile-nav-menu");n&&a&&(n.addEventListener("click",()=>{const e="true"===n.getAttribute("aria-expanded");n.setAttribute("aria-expanded",!e),a.classList.toggle("is-open"),document.body.classList.toggle("no-scroll")}),a.addEventListener("click",e=>{e.target.matches(".mobile-nav-link")&&(n.setAttribute("aria-expanded","false"),a.classList.remove("is-open"),document.body.classList.remove("no-scroll"))}));const s=document.querySelector(".pub-years"),r=document.querySelector(".pub-lists-container");if(s&&r){let e={width:0,left:0},t=0;const n=()=>{t&&(window.clearTimeout(t),t=0),s.classList.remove("is-animating"),s.offsetWidth,s.classList.add("is-animating"),t=window.setTimeout(()=>{s.classList.remove("is-animating"),t=0},680)},a=(t=!1)=>{const a=s.querySelector(".pub-year-btn.active");if(!a)return;const i=a.offsetWidth,r=a.offsetLeft;(i!==e.width||r!==e.left||0===e.width)&&(s.style.setProperty("--pub-slider-width",`${i}px`),s.style.setProperty("--pub-slider-translate-x",`${r}px`),t&&0!==e.width&&n(),e={width:i,left:r})},i=()=>{a(!1),requestAnimationFrame(()=>{a(!1),requestAnimationFrame(()=>a(!1))})};i(),document.fonts&&"ready"in document.fonts&&document.fonts.ready.then(i).catch(()=>{}),window.addEventListener("load",i);(e=>{let t=null;const n=e.querySelector(".pub-year-btn.active");n&&(t=n.getAttribute("c-option"),e.setAttribute("c-previous",t)),e.addEventListener("click",n=>{var i;const o=n.target.closest(".pub-year-btn");if(o){const n=o.getAttribute("c-option");n!==t&&(e.setAttribute("c-previous",t??""),t=n),null==(i=s.querySelector(".active"))||i.classList.remove("active"),o.classList.add("active"),r.querySelectorAll(".pub-list").forEach(e=>{e.classList.toggle("active",e.dataset.year===n)}),setTimeout(()=>a(!0),0)}})})(s);const o=()=>a();window.addEventListener("resize",o),b.push(()=>{t&&window.clearTimeout(t),s.classList.remove("is-animating"),window.removeEventListener("resize",o),window.removeEventListener("load",i)})}const o=document.querySelector(".carousel");if(o){const e=o.querySelector(".carousel-track"),t=Array.from(e.children),n=o.querySelector(".carousel-button--right"),a=o.querySelector(".carousel-button--left"),i=o.querySelector(".carousel-nav"),s=Array.from(i.children),r=t=>{const n=e.querySelector(".current-slide");n&&(e.style.transform=`translateX(-${t.offsetLeft}px)`,n.classList.remove("current-slide"),t.classList.add("current-slide"))},l=e=>{const t=i.querySelector(".current-slide");t&&(t.classList.remove("current-slide"),e.classList.add("current-slide"))};n.addEventListener("click",()=>{const n=e.querySelector(".current-slide").nextElementSibling||t[0],a=i.querySelector(".current-slide").nextElementSibling||s[0];r(n),l(a)}),a.addEventListener("click",()=>{const n=e.querySelector(".current-slide").previousElementSibling||t[t.length-1],a=i.querySelector(".current-slide").previousElementSibling||s[s.length-1];r(n),l(a)}),i.addEventListener("click",e=>{const n=e.target.closest("button.carousel-indicator");if(!n)return;const a=s.findIndex(e=>e===n);r(t[a]),l(n)})}const l=document.querySelector(".scroller");if(l&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches){const e=l.querySelector(".scroller-content");if(e){Array.from(e.children).forEach(t=>{const n=t.cloneNode(!0);n.setAttribute("aria-hidden",!0),e.appendChild(n)})}}const c=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),c.unobserve(e.target))})},{threshold:.1});document.querySelectorAll(".content-section").forEach(e=>c.observe(e))}),(e,i)=>(f(),d(m,null,[R(un,{class:"desktop-nav",borderRadius:"99em",distortion:"0.02",padding:"0"},{default:E(()=>i[7]||(i[7]=[g("fieldset",{class:"glass-nav",id:"glass-nav-container"},[g("legend",{class:"glass-nav__legend"},"Main Navigation"),g("label",{class:"glass-nav__option",for:"nav-1"},[g("input",{class:"glass-nav__input",type:"radio",name:"nav",value:"about","c-option":"1",id:"nav-1",checked:""}),g("a",{href:"#about"},"About")]),g("label",{class:"glass-nav__option",for:"nav-2"},[g("input",{class:"glass-nav__input",type:"radio",name:"nav",value:"education","c-option":"2",id:"nav-2"}),g("a",{href:"#education"},"Education")]),g("label",{class:"glass-nav__option",for:"nav-3"},[g("input",{class:"glass-nav__input",type:"radio",name:"nav",value:"work","c-option":"3",id:"nav-3"}),g("a",{href:"#work"},"Work")]),g("label",{class:"glass-nav__option",for:"nav-4"},[g("input",{class:"glass-nav__input",type:"radio",name:"nav",value:"research","c-option":"4",id:"nav-4"}),g("a",{href:"#research"},"Research")]),g("label",{class:"glass-nav__option",for:"nav-5"},[g("input",{class:"glass-nav__input",type:"radio",name:"nav",value:"publications","c-option":"5",id:"nav-5"}),g("a",{href:"#publications"},"Publications")]),g("label",{class:"glass-nav__option",for:"nav-6"},[g("input",{class:"glass-nav__input",type:"radio",name:"nav",value:"gallery","c-option":"6",id:"nav-6"}),g("a",{href:"#gallery"},"Gallery")])],-1)])),_:1,__:[7]}),R(un,{class:"mobile-nav-button",borderRadius:"20px",distortion:"0.02",padding:"0"},{default:E(()=>[g("button",{onClick:r,class:"central-nav-btn","aria-label":"Open navigation menu"},i[8]||(i[8]=[g("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M3 12H21M3 6H21M3 18H21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))]),_:1}),t.value?(f(),d("div",{key:0,class:"mobile-nav-popup",onClick:o},[g("div",{class:"popup-content apple-glass",onClick:i[6]||(i[6]=x(()=>{},["stop"]))},[i[9]||(i[9]=g("div",{class:"popup-header"},[g("div",{class:"popup-title"},"Navigation"),g("div",{class:"popup-decoration"})],-1)),g("button",{onClick:i[0]||(i[0]=e=>u("about")),class:"popup-nav-btn"},"About"),g("button",{onClick:i[1]||(i[1]=e=>u("education")),class:"popup-nav-btn"},"Education"),g("button",{onClick:i[2]||(i[2]=e=>u("work")),class:"popup-nav-btn"},"Work"),g("button",{onClick:i[3]||(i[3]=e=>u("research")),class:"popup-nav-btn"},"Research"),g("button",{onClick:i[4]||(i[4]=e=>u("publications")),class:"popup-nav-btn"},"Publications"),g("button",{onClick:i[5]||(i[5]=e=>u("gallery")),class:"popup-nav-btn"},"Gallery")])])):w("",!0),M(g("div",Ji,[R(Dt),R(xt),R(Vt),R(en),R(nn),R(sn),R(on),R(ln)],512),[[B,"/photography"!==n(a).path]]),"/photography"===n(a).path?(f(),T(Wi,{key:1})):w("",!0),g("button",{class:"theme-switcher",id:"theme-toggle",title:"Switch Theme",onClick:v},i[10]||(i[10]=[g("svg",{class:"icon-sun",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[g("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.106a.75.75 0 010 1.06l-1.591 1.59a.75.75 0 11-1.06-1.06l1.59-1.59a.75.75 0 011.061 0zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5h2.25a.75.75 0 01.75.75zM17.836 17.894a.75.75 0 011.06 0l1.591 1.591a.75.75 0 11-1.06 1.06l-1.591-1.59a.75.75 0 010-1.06zM12 21.75a.75.75 0 01-.75-.75v-2.25a.75.75 0 011.5 0v2.25a.75.75 0 01-.75-.75zM5.106 17.836a.75.75 0 010-1.06l1.591-1.591a.75.75 0 111.06 1.06l-1.59 1.591a.75.75 0 01-1.061 0zM3 12a.75.75 0 01.75-.75h2.25a.75.75 0 010-1.5H3.75A.75.75 0 013 12zM6.106 5.106a.75.75 0 011.06 0l1.591 1.591a.75.75 0 01-1.06 1.06L6.106 6.167a.75.75 0 010-1.06z"})],-1),g("svg",{class:"icon-moon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[g("path",{"fill-rule":"evenodd",d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 004.472-.528.75.75 0 01.818.162.75.75 0 01.162.819A10.5 10.5 0 119.528 1.718zM16.5 9a.75.75 0 01.75.75 1.5 1.5 0 001.5 1.5.75.75 0 010 1.5 1.5 1.5 0 00-1.5 1.5.75.75 0 01-1.5 0 1.5 1.5 0 00-1.5-1.5.75.75 0 010-1.5 1.5 1.5 0 001.5-1.5.75.75 0 01.75-.75z","clip-rule":"evenodd"})],-1)]))],64))}},[["__scopeId","data-v-d2b2f0ce"]]),Ki=function(t){const i=dt(t.routes,t),s=t.parseQuery||_e,r=t.stringifyQuery||Ge,o=t.history,l=Je(),c=Je(),u=Je(),d=e(Ie);let p=Ie;q&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Z.bind(null,e=>""+e),g=Z.bind(null,ge),m=Z.bind(null,me);function v(e,t){if(t=J({},t||d.value),"string"==typeof e){const n=be(s,e,t.path),a=i.resolve({path:n.path},t),r=o.createHref(n.fullPath);return J(n,a,{params:m(a.params),hash:me(n.hash),redirectedFrom:void 0,href:r})}let n;if(null!=e.path)n=J({},e,{path:be(s,e.path,t.path).path});else{const a=J({},e.params);for(const e in a)null==a[e]&&delete a[e];n=J({},e,{params:g(a)}),t.params=g(t.params)}const a=i.resolve(n,t),l=e.hash||"";a.params=f(m(a.params));const c=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,J({},e,{hash:(u=l,de(u).replace(le,"{").replace(ue,"}").replace(re,"^")),path:a.path}));var u;const h=o.createHref(c);return J({fullPath:c,hash:l,query:r===Ge?je(e.query):e.query||{}},a,{redirectedFrom:void 0,href:h})}function b(e){return"string"==typeof e?be(s,e,d.value.path):J({},e)}function y(e,t){if(p!==e)return Ue(Be.NAVIGATION_CANCELLED,{from:t,to:e})}function S(e){return C(e)}function w(e,t){const n=e.matched[e.matched.length-1];if(n&&n.redirect){const{redirect:a}=n;let i="function"==typeof a?a(e,t):a;return"string"==typeof i&&(i=i.includes("?")||i.includes("#")?i=b(i):{path:i},i.params={}),J({query:e.query,hash:e.hash,params:null!=i.path?{}:e.params},i)}}function C(e,t){const n=p=v(e),a=d.value,i=e.state,s=e.force,o=!0===e.replace,l=w(n,a);if(l)return C(J(b(l),{state:"object"==typeof l?J({},i,l.state):i,force:s,replace:o}),t||n);const c=n;let u;return c.redirectedFrom=t,!s&&function(e,t,n){const a=t.matched.length-1,i=n.matched.length-1;return a>-1&&a===i&&Se(t.matched[a],n.matched[i])&&we(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,a,n)&&(u=Ue(Be.NAVIGATION_DUPLICATED,{to:c,from:a}),B(a,a,!0,!1)),(u?Promise.resolve(u):A(c,a)).catch(e=>Ne(e)?Ne(e,Be.NAVIGATION_GUARD_REDIRECT)?e:M(e):O(e,c,a)).then(e=>{if(e){if(Ne(e,Be.NAVIGATION_GUARD_REDIRECT))return C(J({replace:o},b(e.to),{state:"object"==typeof e.to?J({},i,e.to.state):i,force:s}),t||c)}else e=D(c,a,!0,o,i);return P(c,a,e),e})}function k(e,t){const n=y(e,t);return n?Promise.reject(n):Promise.resolve()}function I(e){const t=N.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function A(e,t){let n;const[a,i,s]=function(e,t){const n=[],a=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let r=0;r<s;r++){const s=t.matched[r];s&&(e.matched.find(e=>Se(e,s))?a.push(s):n.push(s));const o=e.matched[r];o&&(t.matched.find(e=>Se(e,o))||i.push(o))}return[n,a,i]}
/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */(e,t);n=Ke(a.reverse(),"beforeRouteLeave",e,t);for(const o of a)o.leaveGuards.forEach(a=>{n.push(Ze(a,e,t))});const r=k.bind(null,e,t);return n.push(r),G(n).then(()=>{n=[];for(const a of l.list())n.push(Ze(a,e,t));return n.push(r),G(n)}).then(()=>{n=Ke(i,"beforeRouteUpdate",e,t);for(const a of i)a.updateGuards.forEach(a=>{n.push(Ze(a,e,t))});return n.push(r),G(n)}).then(()=>{n=[];for(const a of s)if(a.beforeEnter)if($(a.beforeEnter))for(const i of a.beforeEnter)n.push(Ze(i,e,t));else n.push(Ze(a.beforeEnter,e,t));return n.push(r),G(n)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),n=Ke(s,"beforeRouteEnter",e,t,I),n.push(r),G(n))).then(()=>{n=[];for(const a of c.list())n.push(Ze(a,e,t));return n.push(r),G(n)}).catch(e=>Ne(e,Be.NAVIGATION_CANCELLED)?e:Promise.reject(e))}function P(e,t,n){u.list().forEach(a=>I(()=>a(e,t,n)))}function D(e,t,n,a,i){const s=y(e,t);if(s)return s;const r=t===Ie,l=q?history.state:{};n&&(a||r?o.replace(e.fullPath,J({scroll:r&&l&&l.scroll},i)):o.push(e.fullPath,i)),d.value=e,B(e,t,n,r),M()}let T;function x(){T||(T=o.listen((e,t,n)=>{if(!_.listening)return;const a=v(e),i=w(a,_.currentRoute.value);if(i)return void C(J(i,{replace:!0,force:!0}),a).catch(K);p=a;const s=d.value;var r,l;q&&(r=Le(s.fullPath,n.delta),l=Re(),Oe.set(r,l)),A(a,s).catch(e=>Ne(e,Be.NAVIGATION_ABORTED|Be.NAVIGATION_CANCELLED)?e:Ne(e,Be.NAVIGATION_GUARD_REDIRECT)?(C(J(b(e.to),{force:!0}),a).then(e=>{Ne(e,Be.NAVIGATION_ABORTED|Be.NAVIGATION_DUPLICATED)&&!n.delta&&n.type===Ae.pop&&o.go(-1,!1)}).catch(K),Promise.reject()):(n.delta&&o.go(-n.delta,!1),O(e,a,s))).then(e=>{(e=e||D(a,s,!1))&&(n.delta&&!Ne(e,Be.NAVIGATION_CANCELLED)?o.go(-n.delta,!1):n.type===Ae.pop&&Ne(e,Be.NAVIGATION_ABORTED|Be.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),P(a,s,e)}).catch(K)}))}let R,E=Je(),L=Je();function O(e,t,n){M(e);const a=L.list();return a.length&&a.forEach(a=>a(e,t,n)),Promise.reject(e)}function M(e){return R||(R=!e,x(),E.list().forEach(([t,n])=>e?n(e):t()),E.reset()),e}function B(e,n,a,i){const{scrollBehavior:s}=t;if(!q||!s)return Promise.resolve();const r=!a&&function(e){const t=Oe.get(e);return Oe.delete(e),t}(Le(e.fullPath,0))||(i||!a)&&history.state&&history.state.scroll||null;return h().then(()=>s(e,n,r)).then(e=>e&&Ee(e)).catch(t=>O(t,e,n))}const F=e=>o.go(e);let U;const N=new Set,_={currentRoute:d,listening:!0,addRoute:function(e,t){let n,a;return Me(e)?(n=i.getRecordMatcher(e),a=t):a=e,i.addRoute(a,n)},removeRoute:function(e){const t=i.getRecordMatcher(e);t&&i.removeRoute(t)},clearRoutes:i.clearRoutes,hasRoute:function(e){return!!i.getRecordMatcher(e)},getRoutes:function(){return i.getRoutes().map(e=>e.record)},resolve:v,options:t,push:S,replace:function(e){return S(J(b(e),{replace:!0}))},go:F,back:()=>F(-1),forward:()=>F(1),beforeEach:l.add,beforeResolve:c.add,afterEach:u.add,onError:L.add,isReady:function(){return R&&d.value!==Ie?Promise.resolve():new Promise((e,t)=>{E.add([e,t])})},install(e){e.component("RouterLink",St),e.component("RouterView",It),e.config.globalProperties.$router=_,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>n(d)}),q&&!U&&d.value===Ie&&(U=!0,S(o.location).catch(e=>{}));const t={};for(const n in Ie)Object.defineProperty(t,n,{get:()=>d.value[n],enumerable:!0});e.provide(He,_),e.provide(qe,a(t)),e.provide(We,d);const i=e.unmount;N.add(e),e.unmount=function(){N.delete(e),N.size<1&&(p=Ie,T&&T(),T=null,d.value=Ie,U=!1,R=!1),i()}}};function G(e){return e.reduce((e,t)=>e.then(()=>I(t)),Promise.resolve())}return _}({history:function(e){const t=Ye(e=De(e)),n=function(e,t,n,a){let i=[],s=[],r=null;const o=({state:s})=>{const o=$e(e,location),l=n.value,c=t.value;let u=0;if(s){if(n.value=o,t.value=s,r&&r===l)return void(r=null);u=c?s.position-c.position:0}else a(o);i.forEach(e=>{e(n.value,l,{delta:u,type:Ae.pop,direction:u?u>0?Pe.forward:Pe.back:Pe.unknown})})};function l(){if("hidden"===document.visibilityState){const{history:e}=window;if(!e.state)return;e.replaceState(J({},e.state,{scroll:Re()}),"")}}return window.addEventListener("popstate",o),window.addEventListener("pagehide",l),document.addEventListener("visibilitychange",l),{pauseListeners:function(){r=n.value},listen:function(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return s.push(t),t},destroy:function(){for(const e of s)e();s=[],window.removeEventListener("popstate",o),window.removeEventListener("pagehide",l),document.removeEventListener("visibilitychange",l)}}}(e,t.state,t.location,t.replace),a=J({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:xe.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}(),routes:[{path:"/",name:"home",component:{template:"<div />"}},{path:"/photography",name:"photography",component:{template:"<div />"}}],scrollBehavior:e=>e.hash?{el:e.hash,behavior:"smooth"}:{top:0}}),$i=F(Zi);$i.use(H),$i.use(Ki),$i.mount("#app");
